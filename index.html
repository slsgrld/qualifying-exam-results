<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSAU Biology Major Scan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        
        body {
            font-family: 'VT323', monospace;
            background-color: #f0f4f8;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }
        
        .pokedex {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 500px;
            height: 90vh;
            position: relative;
            overflow: hidden;
            border-radius: 16px;
        }
        
        .screen {
            background-color: #f8f9fa;
            border: 10px solid #333;
            border-radius: 8px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            position: relative;
            height: calc(90vh - 80px);
            margin: 10px;
        }
        
        .search-bar {
            background-color: #f8f9fa;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .major-environmental { color: #3cb371; }
        .major-biotechnology { color: #4169e1; }
        .major-microbiology { color: #ff69b4; }
        
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .blink {
            animation: blink 1.5s infinite;
        }
        
        .pokeball {
            width: 40px;
            height: 40px;
            background: linear-gradient(to bottom, #ff0000 0%, #ff0000 50%, #ffffff 50%, #ffffff 100%);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            transform-origin: center;
        }
        
        .pokeball::before {
            content: '';
            position: absolute;
            background: #ffffff;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid #333;
            z-index: 2;
        }
        
        .pokeball::after {
            content: '';
            position: absolute;
            background: #333;
            height: 4px;
            width: 100%;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }
        
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            20% { transform: rotate(10deg); }
            40% { transform: rotate(-10deg); }
            60% { transform: rotate(5deg); }
            80% { transform: rotate(-5deg); }
        }
        
        .shake {
            animation: shake 0.5s infinite;
        }
        
        .pokemon-badge {
            width: 80px;
            height: 80px;
            filter: drop-shadow(0px 4px 8px rgba(0,0,0,0.3));
            transition: all 0.3s ease;
        }
        
        .pokemon-badge:hover {
            transform: scale(1.1);
            filter: drop-shadow(0px 6px 12px rgba(0,0,0,0.4));
        }
        
        .page-indicator {
            font-size: 14px;
            color: #666;
            margin-right: 10px;
        }
        
        .scan-button {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .scan-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .scan-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 8px;
            background-color: #ddd;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #ff7675);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 5px rgba(231, 76, 60, 0.5);
        }
        
        .typing-animation::after {
            content: '|';
            animation: blink 1s infinite;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .screen-content {
            height: calc(100% - 60px);
            overflow-y: auto;
            padding: 15px;
            scrollbar-width: thin;
            scrollbar-color: #e74c3c #f8f9fa;
        }
        
        .screen-content::-webkit-scrollbar {
            width: 6px;
        }
        
        .screen-content::-webkit-scrollbar-track {
            background: #f8f9fa;
        }
        
        .screen-content::-webkit-scrollbar-thumb {
            background-color: #e74c3c;
            border-radius: 6px;
        }
        
        .nav-controls {
            height: 60px;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            background-color: #f0f0f0;
            border-top: 2px solid #ddd;
        }
        
        .info-card {
            background-color: #f0f0f0;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .badge-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            background-color: #f0f0f0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .pokemon-image {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }
        
        .pokemon-image-large {
            width: 80px;
            height: 80px;
            object-fit: contain;
        }
        
        .status-tag {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-eligible {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .status-ineligible {
            background-color: #fee2e2;
            color: #b91c1c;
        }
        
        .major-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .major-icon {
            font-size: 28px;
            margin: 10px 0;
        }
        
        .badge-name {
            font-size: 16px;
            font-weight: bold;
            margin-top: 6px;
            text-transform: uppercase;
        }
        
        .badge-desc {
            font-size: 14px;
            color: #444;
            text-align: center;
            margin-top: 2px;
        }
        
        .pokedex-entry {
            font-size: 14px;
            line-height: 1.4;
            margin-top: 8px;
        }
        
        .trainer-info-bar {
            background-color: #333;
            color: white;
            padding: 12px 15px;
            font-size: 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .badge-glow {
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from {
                filter: drop-shadow(0px 0px 5px rgba(255,255,255,0.5));
            }
            to {
                filter: drop-shadow(0px 0px 15px rgba(255,255,255,0.8));
            }
        }
        
        .major-highlight {
            font-size: 20px;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
            padding: 3px 8px;
            margin-bottom: 5px;
            text-align: center;
        }
        
        .journey-statement {
            font-size: 14px;
            text-align: center;
            margin-bottom: 10px;
            padding: 4px;
            border-radius: 5px;
            font-style: italic;
            color: #555;
        }
        
        .scan-message {
            text-align: center;
            font-size: 18px;
            margin: 15px 0;
            min-height: 27px;
            transition: opacity 0.3s ease;
        }
        
        .scan-percentage {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            margin-top: 10px;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(10px); }
            10% { opacity: 1; transform: translateY(0); }
            90% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-10px); }
        }
        
        .message-animate {
            animation: fadeInOut 3s forwards;
        }
        
        .pokemon-type-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 4px;
            text-transform: uppercase;
        }
        
        .type-grass {
            background-color: #78c850;
            color: white;
        }
        
        .type-fire {
            background-color: #f08030;
            color: white;
        }
        
        .type-water {
            background-color: #6890f0;
            color: white;
        }
        
        /* Improved responsive adjustments for Page 4 */
        .badge-page-content {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .pokemon-section, .badge-section {
            width: 48%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* Major-specific accent colors */
        .accent-environmental {
            color: #3cb371;
            border-left: 4px solid #3cb371;
            padding-left: 10px;
        }
        
        .accent-biotechnology {
            color: #4169e1;
            border-left: 4px solid #4169e1;
            padding-left: 10px;
        }
        
        .accent-microbiology {
            color: #ff69b4;
            border-left: 4px solid #ff69b4;
            padding-left: 10px;
        }
        
        /* Badge entry card with improved visibility */
        .badge-entry-card {
            background-color: rgba(240, 240, 240, 0.9);
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            color: #333;
        }
        
        .analysis-statement {
            font-size: 14px;
            line-height: 1.4;
            padding: 10px;
            margin: 10px 0;
            background-color: #f5f5f5;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .major-name-display {
            font-size: 28px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }
        
        /* New rounded box styles for Page 4 - consistent with other pages */
        .major-box {
            background-color: #f8f8f8;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 12px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }
        
        /* Updated box styles to ensure same height */
        .pokemon-box, .badge-box {
            background-color: #f8f8f8;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 180px; /* Fixed height for both boxes */
            justify-content: center;
        }
        
        .pokemon-box {
            background-color: #f0f8ff;
        }
        
        .badge-box {
            background-color: #fff5f5;
        }
        
        /* Badge entry text - consistent with other pages */
        .badge-entry {
            font-size: 14px;
            line-height: 1.4;
            margin-top: 5px;
        }
        
        /* Responsive adjustments for smaller screens */
        @media (max-width: 400px) {
            .badge-page-content {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .pokemon-section, .badge-section {
                width: 45%;
                margin-bottom: 8px;
            }
            
            .pokemon-image-large, .pokemon-badge {
                width: 70px;
                height: 70px;
            }
            
            .badge-name, .pokemon-name {
                font-size: 14px;
            }
            
            .badge-desc {
                font-size: 12px;
            }
            
            .pokedex-entry {
                font-size: 12px;
            }
            
            .pokemon-box, .badge-box {
                height: 160px; /* Slightly smaller height for mobile */
            }
        }
    </style>
</head>
<body>
    <div class="min-h-screen flex flex-col items-center justify-center py-2 px-2">
        <div class="pokedex">
            <!-- Pokedex Header -->
            <div class="bg-gradient-to-r from-red-600 to-red-700 p-3 flex items-center justify-between">
                <h1 class="text-xl font-bold text-white">PSAU BIOLOGY MAJOR SCAN</h1>
                <div class="flex space-x-2">
                    <div class="w-3 h-3 bg-blue-400 rounded-full"></div>
                    <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                    <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                </div>
            </div>
            
            <!-- Screen Area -->
            <div class="screen">
                <!-- Search Screen -->
                <div id="searchScreen" class="h-full bg-white flex flex-col">
                    <div class="screen-content flex flex-col items-center justify-center">
                        <h2 class="text-xl font-bold text-center mb-4">TRAINER IDENTIFICATION</h2>
                        <p class="text-gray-600 text-center mb-6">POKÃ‰DEX READY. PLEASE IDENTIFY YOURSELF.</p>
                        
                        <div class="flex items-center w-full max-w-xs mb-6">
                            <input type="text" id="searchInput" placeholder="ENTER TRAINER ID" class="search-bar w-full p-2 rounded-l-lg border-2 border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500">
                            <button id="searchButton" class="bg-red-600 hover:bg-red-700 text-white p-2 rounded-r-lg transition">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </button>
                        </div>
                        
                        <div class="pokeball mb-6"></div>
                        
                        <p class="text-gray-500 text-sm text-center">
                            AWAITING TRAINER ID INPUT...
                        </p>
                    </div>
                </div>
                
                <!-- Loading Screen - Redesigned with cycling messages -->
                <div id="loadingScreen" class="hidden h-full bg-white flex flex-col">
                    <div class="screen-content flex flex-col items-center justify-center">
                        <h2 class="text-xl font-bold text-center mb-4">SCANNING</h2>
                        
                        <div class="flex justify-center mb-6">
                            <div id="scanningPokeball" class="pokeball shake"></div>
                        </div>
                        
                        <div class="w-full max-w-xs">
                            <div id="scanMessage" class="scan-message">INITIALIZING SCAN SEQUENCE...</div>
                            
                            <div class="progress-bar">
                                <div id="scanProgress" class="progress-fill"></div>
                            </div>
                            
                            <div class="text-center">
                                <span id="scanPercentage" class="scan-percentage">0%</span>
                            </div>
                        </div>
                        
                        <button id="viewResultsButton" class="scan-button px-6 py-2 mt-6 hidden">VIEW RESULTS</button>
                    </div>
                </div>
                
                <!-- Results Pages -->
                <!-- Page 1: Starter Pokemon Entry -->
                <div id="page1" class="hidden h-full bg-white flex flex-col">
                    <div class="trainer-info-bar">
                        <span id="trainerNameBar1">TRAINER: ---</span>
                        <span id="trainerIdBar1">ID: ---</span>
                    </div>
                    
                    <div class="screen-content">
                        <h2 class="text-xl font-bold mb-3">STARTER POKÃ‰MON</h2>
                        
                        <div class="flex flex-col items-center mb-3">
                            <img id="starterPokemonImage" src="" alt="Starter Pokemon" class="pokemon-image mb-2">
                            <p id="starterPokemonName" class="text-center font-medium text-lg"></p>
                        </div>
                        
                        <div class="info-card">
                            <h3 class="font-semibold mb-1">POKÃ‰DEX ENTRY</h3>
                            <p id="pokemonEntry" class="text-sm pokedex-entry"></p>
                        </div>
                    </div>
                    
                    <div class="nav-controls">
                        <div class="page-indicator">PAGE 1/4</div>
                        <button id="nextToPage2" class="scan-button">NEXT</button>
                    </div>
                </div>
                
                <!-- Page 2: Aptitude Scan Results -->
                <div id="page2" class="hidden h-full bg-white flex flex-col">
                    <div class="trainer-info-bar">
                        <span id="trainerNameBar2">TRAINER: ---</span>
                        <span id="trainerIdBar2">ID: ---</span>
                    </div>
                    
                    <div class="screen-content">
                        <h2 class="text-xl font-bold mb-3">APTITUDE ANALYSIS</h2>
                        
                        <div class="info-card mb-3">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium">ENVIRONMENTAL SCIENCE</span>
                                <span id="envScore" class="status-tag"></span>
                            </div>
                            <div class="progress-bar">
                                <div id="envProgress" class="progress-fill"></div>
                            </div>
                            
                            <div class="flex items-center justify-between mb-2 mt-3">
                                <span class="font-medium">BIOTECHNOLOGY</span>
                                <span id="bioScore" class="status-tag"></span>
                            </div>
                            <div class="progress-bar">
                                <div id="bioProgress" class="progress-fill"></div>
                            </div>
                            
                            <div class="flex items-center justify-between mb-2 mt-3">
                                <span class="font-medium">MICROBIOLOGY</span>
                                <span id="microScore" class="status-tag"></span>
                            </div>
                            <div class="progress-bar">
                                <div id="microProgress" class="progress-fill"></div>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <p class="text-sm">POKÃ‰DEX ANALYSIS: TRAINERS MUST ACHIEVE MINIMUM APTITUDE SCORE OF 15 TO QUALIFY FOR MAJOR ASSIGNMENT.</p>
                        </div>
                    </div>
                    
                    <div class="nav-controls">
                        <button id="prevToPage1" class="scan-button">PREV</button>
                        <div class="page-indicator">PAGE 2/4</div>
                        <button id="nextToPage3" class="scan-button">NEXT</button>
                    </div>
                </div>
                
                <!-- Page 3: Major Assignment - Now with white background -->
                <div id="page3" class="hidden h-full bg-white flex flex-col">
                    <div class="trainer-info-bar">
                        <span id="trainerNameBar3">TRAINER: ---</span>
                        <span id="trainerIdBar3">ID: ---</span>
                    </div>
                    
                    <div id="assignmentContainer" class="screen-content flex flex-col">
                        <h2 class="text-xl font-bold mb-3">MAJOR CLASSIFICATION</h2>
                        
                        <div class="flex flex-col items-center justify-center mb-2">
                            <!-- Analysis statement moved below the title -->
                            <p id="assignmentMessage" class="analysis-statement"></p>
                            
                            <!-- Icon first, then major name -->
                            <div id="majorIcon" class="major-icon"></div>
                            <h3 id="assignedMajorTitle" class="major-name-display"></h3>
                        </div>
                        
                        <div class="info-card mt-2">
                            <h4 class="font-semibold mb-1">MAJOR POKÃ‰DEX ENTRY</h4>
                            <p id="majorDescription" class="text-sm pokedex-entry"></p>
                        </div>
                    </div>
                    
                    <div class="nav-controls">
                        <button id="prevToPage2" class="scan-button">PREV</button>
                        <div class="page-indicator">PAGE 3/4</div>
                        <button id="nextToPage4" class="scan-button">NEXT</button>
                    </div>
                </div>
                
                <!-- Page 4: Badge Registration - Summary page with consistent font sizes -->
                <div id="page4" class="hidden h-full bg-white flex flex-col">
                    <div class="trainer-info-bar">
                        <span id="trainerNameBar4">TRAINER: ---</span>
                        <span id="trainerIdBar4">ID: ---</span>
                    </div>
                    
                    <div id="badgePageContent" class="screen-content">
                        <!-- Journey statement - consistent font size -->
                        <div class="journey-statement" id="journeyStatement"></div>
                        
                        <!-- Major box - consistent padding -->
                        <div class="major-box">
                            <div id="badgeAssignedMajorTitle" class="major-highlight"></div>
                        </div>
                        
                        <!-- Side-by-side layout for Pokemon and Badge - same rounded boxes -->
                        <div class="badge-page-content">
                            <!-- Pokemon Section in rounded box -->
                            <div class="pokemon-section">
                                <div class="pokemon-box">
                                    <img id="badgeStarterPokemon" src="" alt="Starter Pokemon" class="pokemon-image-large mb-2">
                                    <p id="starterPokemonNameBadge" class="badge-name text-center"></p>
                                    <span id="starterPokemonType" class="pokemon-type-tag"></span>
                                </div>
                            </div>
                            
                            <!-- Badge Section in rounded box -->
                            <div class="badge-section">
                                <div class="badge-box">
                                    <div id="majorBadgeContainer" class="badge-glow">
                                        <!-- SVG Badges will be inserted here -->
                                    </div>
                                    <p id="badgeName" class="badge-name text-center"></p>
                                    <p id="badgeDescription" class="badge-desc"></p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Badge Entry with consistent font size -->
                        <div class="badge-entry-card">
                            <h4 class="font-semibold mb-1">BADGE POKÃ‰DEX ENTRY</h4>
                            <p id="badgeEntry" class="badge-entry"></p>
                        </div>
                    </div>
                    
                    <div class="nav-controls">
                        <button id="prevToPage3" class="scan-button">PREV</button>
                        <div class="page-indicator">PAGE 4/4</div>
                        <button id="scanAnotherButton" class="scan-button">NEW SCAN</button>
                    </div>
                </div>
                
                <!-- Error Screen -->
                <div id="errorScreen" class="hidden h-full bg-white flex flex-col">
                    <div class="screen-content flex flex-col items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-500 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                        </svg>
                        <p class="text-gray-600 text-center mb-6" id="errorMessage">TRAINER DATA NOT FOUND IN POKÃ‰DEX DATABASE. VERIFY ID AND RETRY SCAN.</p>
                        <button id="backToSearchButton" class="scan-button px-4 py-2">RETURN TO SEARCH</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const searchScreen = document.getElementById('searchScreen');
            const loadingScreen = document.getElementById('loadingScreen');
            const errorScreen = document.getElementById('errorScreen');
            const page1 = document.getElementById('page1');
            const page2 = document.getElementById('page2');
            const page3 = document.getElementById('page3');
            const page4 = document.getElementById('page4');
            
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const viewResultsButton = document.getElementById('viewResultsButton');
            const scanAnotherButton = document.getElementById('scanAnotherButton');
            const backToSearchButton = document.getElementById('backToSearchButton');
            
            // Navigation buttons
            const nextToPage2 = document.getElementById('nextToPage2');
            const prevToPage1 = document.getElementById('prevToPage1');
            const nextToPage3 = document.getElementById('nextToPage3');
            const prevToPage2 = document.getElementById('prevToPage2');
            const nextToPage4 = document.getElementById('nextToPage4');
            const prevToPage3 = document.getElementById('prevToPage3');
            
            // Starter Pokemon mapping - Now with Gen IV through Gen VIII starters
            const starterPokemon = {
                // Grass starters for Environmental Science
                'bulbasaur': { 
                    id: 1, 
                    name: 'BULBASAUR', 
                    type: 'GRASS',
                    entry: "BULBASAUR. A RARE POKÃ‰MON THAT CARRIES A SEED ON ITS BACK FROM BIRTH. THE SEED SLOWLY DEVELOPS AS THE POKÃ‰MON GROWS. RESEARCHERS NOTE ITS REMARKABLE ABILITY TO THRIVE IN DIVERSE ECOSYSTEMS."
                },
                'chikorita': { 
                    id: 152, 
                    name: 'CHIKORITA', 
                    type: 'GRASS',
                    entry: "CHIKORITA. THE LEAF ON ITS HEAD CAPTURES SUNLIGHT AND PROCESSES IT FOR ENERGY. IT RELEASES A SWEET, RELAXING FRAGRANCE FROM THE LEAF WHEN IT FEELS CONTENT. KNOWN FOR ITS GENTLE TEMPERAMENT."
                },
                'treecko': { 
                    id: 252, 
                    name: 'TREECKO', 
                    type: 'GRASS',
                    entry: "TREECKO. ITS CHARACTERISTIC THICK TAIL AND SPECIALIZED FOOT PADS ALLOW IT TO SCALE VERTICAL WALLS WITH EASE. HIGHLY TERRITORIAL AND KNOWN TO OBSERVE OPPONENTS CAREFULLY BEFORE STRIKING."
                },
                'turtwig': { 
                    id: 387, 
                    name: 'TURTWIG', 
                    type: 'GRASS',
                    entry: "TURTWIG. THE SHELL ON ITS BACK IS FORMED FROM SOIL. THE SMALL PLANT SPROUTING FROM ITS HEAD UNDERGOES PHOTOSYNTHESIS, PROCESSING WATER AND CREATING CLEAN AIR AROUND IT."
                },
                'snivy': { 
                    id: 495, 
                    name: 'SNIVY', 
                    type: 'GRASS',
                    entry: "SNIVY. A CALM POKÃ‰MON WITH REMARKABLE SPEED AND AGILITY. THE LEAF-LIKE APPENDAGES ON ITS BODY CAPTURE SUNLIGHT EFFICIENTLY. IT TENDS TO STAY MOTIONLESS WHILE BASKING TO MAXIMIZE ENERGY ABSORPTION."
                },
                'chespin': { 
                    id: 650, 
                    name: 'CHESPIN', 
                    type: 'GRASS',
                    entry: "CHESPIN. THE QUILLS ON ITS HEAD ARE NORMALLY SOFT, BUT WHEN THREATENED, THEY STIFFEN AND CAN PIERCE OPPONENTS. IT HAS A CURIOUS NATURE AND TENDS TO INVESTIGATE ITS SURROUNDINGS THOROUGHLY."
                },
                'rowlet': { 
                    id: 722, 
                    name: 'ROWLET', 
                    type: 'GRASS',
                    entry: "ROWLET. A NOCTURNAL POKÃ‰MON THAT SILENTLY GLIDES THROUGH FORESTS. ITS SPECIALIZED FEATHERS MUFFLE SOUND, ALLOWING IT TO APPROACH TARGETS UNDETECTED. HIGHLY OBSERVANT OF ITS SURROUNDINGS."
                },
                'grookey': { 
                    id: 810, 
                    name: 'GROOKEY', 
                    type: 'GRASS',
                    entry: "GROOKEY. AN ENERGETIC POKÃ‰MON THAT USES THE STICK IN ITS HAIR TO CREATE RHYTHMIC BEATS. THESE VIBRATIONS STIMULATE PLANT GROWTH AND CAN REVITALIZE WITHERING VEGETATION IN ITS VICINITY."
                },
                'sprigatito': { 
                    id: 906, 
                    name: 'SPRIGATITO', 
                    type: 'GRASS',
                    entry: "SPRIGATITO. ITS FLUFFY FUR RELEASES AROMATIC COMPOUNDS THAT HAVE A THERAPEUTIC EFFECT ON THOSE NEARBY. HIGHLY INDEPENDENT BUT FORMS STRONG BONDS WITH TRAINERS WHO EARN ITS TRUST."
                },
                
                // Fire starters for Biotechnology
                'charmander': { 
                    id: 4, 
                    name: 'CHARMANDER', 
                    type: 'FIRE',
                    entry: "CHARMANDER. THE FLAME ON ITS TAIL INDICATES ITS LIFE FORCE. WHEN HEALTHY, THE FLAME BURNS BRIGHTLY. RESEARCHERS STUDY ITS UNIQUE ABILITY TO REGULATE INTERNAL TEMPERATURE REGARDLESS OF ENVIRONMENT."
                },
                'cyndaquil': { 
                    id: 155, 
                    name: 'CYNDAQUIL', 
                    type: 'FIRE',
                    entry: "CYNDAQUIL. WHEN STARTLED, THE FLAMES ON ITS BACK INTENSIFY AS A DEFENSIVE MECHANISM. IT CAN CONTROL THE INTENSITY AND DIRECTION OF THESE FLAMES WITH REMARKABLE PRECISION EVEN FROM A YOUNG AGE."
                },
                'torchic': { 
                    id: 255, 
                    name: 'TORCHIC', 
                    type: 'FIRE',
                    entry: "TORCHIC. ITS BODY MAINTAINS AN INTERNAL TEMPERATURE OF OVER 1,800 DEGREES FAHRENHEIT. IT EXPELS EXCESS HEAT THROUGH ITS BEAK AND FEET, ALLOWING IT TO WALK ON WATER BY INSTANTLY VAPORIZING IT."
                },
                'chimchar': { 
                    id: 390, 
                    name: 'CHIMCHAR', 
                    type: 'FIRE',
                    entry: "CHIMCHAR. THE GAS IN ITS STOMACH FUELS THE FLAME ON ITS REAR END. THE FLAME GOES OUT WHEN IT SLEEPS, BUT THE HEAT REMAINS IN A SPECIALIZED THERMAL STORAGE ORGAN UNIQUE TO THIS SPECIES."
                },
                'tepig': { 
                    id: 498, 
                    name: 'TEPIG', 
                    type: 'FIRE',
                    entry: "TEPIG. IT CAN DEFTLY DODGE ATTACKS WHILE SHOOTING FIREBALLS FROM ITS SNOUT. THE INTENSITY OF ITS FLAMES INCREASES AS IT GAINS EXPERIENCE IN BATTLE, REACHING TEMPERATURES THAT CAN MELT IRON."
                },
                'fennekin': { 
                    id: 653, 
                    name: 'FENNEKIN', 
                    type: 'FIRE',
                    entry: "FENNEKIN. IT EXPELS HOT AIR THAT CAN REACH TEMPERATURES OF 390 DEGREES FAHRENHEIT. WHEN AT REST, IT CHEWS ON TWIGS TO REPLENISH ITS INTERNAL ENERGY. HIGHLY INTELLIGENT AND QUICK TO LEARN."
                },
                'litten': { 
                    id: 725, 
                    name: 'LITTEN', 
                    type: 'FIRE',
                    entry: "LITTEN. ITS FUR IS RICH IN OILS THAT ARE IGNITED TO PRODUCE FLAMES. IT GROOMS ITSELF METICULOUSLY, AS THE DISTRIBUTION OF THESE OILS AFFECTS ITS ABILITY TO CONTROL FIRE OUTPUT PRECISELY."
                },
                'scorbunny': { 
                    id: 813, 
                    name: 'SCORBUNNY', 
                    type: 'FIRE',
                    entry: "SCORBUNNY. THE PADS ON ITS FEET CAN CREATE INTENSE HEAT THROUGH FRICTION. IT USES THIS ABILITY TO DISTRACT OPPONENTS AND CREATE ADVANTAGEOUS BATTLE CONDITIONS. NATURALLY ENERGETIC AND ATHLETIC."
                },
                'fuecoco': { 
                    id: 909, 
                    name: 'FUECOCO', 
                    type: 'FIRE',
                    entry: "FUECOCO. ITS SQUARE-SHAPED HEAD HOUSES SPECIALIZED THERMAL ORGANS THAT GENERATE HEAT. DESPITE ITS INTIMIDATING APPEARANCE, IT HAS A LAID-BACK PERSONALITY AND ENJOYS FLOATING IN WARM WATER."
                },
                
                // Water starters for Microbiology
                'squirtle': { 
                    id: 7, 
                    name: 'SQUIRTLE', 
                    type: 'WATER',
                    entry: "SQUIRTLE. ITS SHELL NOT ONLY PROTECTS ITS BODY, BUT ALSO MINIMIZES WATER RESISTANCE WHEN SWIMMING. RESEARCHERS ARE FASCINATED BY HOW THE SHELL GROWS AND ADAPTS WITH THE POKÃ‰MON THROUGHOUT ITS LIFE."
                },
                'totodile': { 
                    id: 158, 
                    name: 'TOTODILE', 
                    type: 'WATER',
                    entry: "TOTODILE. ITS POWERFUL JAW CAN CRUSH ALMOST ANYTHING. DESPITE ITS SMALL SIZE, ITS BITE FORCE IS REMARKABLE. IT HAS A PLAYFUL NATURE AND OFTEN DOESN'T REALIZE ITS OWN STRENGTH WHEN INTERACTING WITH OTHERS."
                },
                'mudkip': { 
                    id: 258, 
                    name: 'MUDKIP', 
                    type: 'WATER',
                    entry: "MUDKIP. THE FIN ON ITS HEAD WORKS AS A SENSITIVE RADAR, ALLOWING IT TO DETECT MOVEMENTS OF AIR AND WATER CURRENTS. IT CAN SURVIVE FOR EXTENDED PERIODS ON BOTH LAND AND UNDERWATER."
                },
                'piplup': { 
                    id: 393, 
                    name: 'PIPLUP', 
                    type: 'WATER',
                    entry: "PIPLUP. ITS THICK DOWN FEATHERS KEEP IT WARM IN ICY WATERS. DESPITE ITS AWKWARD MOVEMENT ON LAND, IT'S AN EXCELLENT SWIMMER AND DIVER, ABLE TO STAY SUBMERGED FOR OVER 10 MINUTES."
                },
                'oshawott': { 
                    id: 501, 
                    name: 'OSHAWOTT', 
                    type: 'WATER',
                    entry: "OSHAWOTT. THE SCALCHOP ON ITS STOMACH IS MADE FROM THE SAME MATERIAL AS ITS CLAWS. IT DETACHES THIS TOOL FOR VARIOUS USES AND METICULOUSLY MAINTAINS ITS EDGE FOR OPTIMAL PERFORMANCE."
                },
                'froakie': { 
                    id: 656, 
                    name: 'FROAKIE', 
                    type: 'WATER',
                    entry: "FROAKIE. THE BUBBLES ON ITS BACK AND CHEST ARE COMPOSED OF FLEXIBLE, ELASTIC SECRETIONS. IT CAN LEAP EXTRAORDINARY HEIGHTS BY BOUNCING OFF THESE PROTECTIVE BUBBLES."
                },
                'popplio': { 
                    id: 728, 
                    name: 'POPPLIO', 
                    type: 'WATER',
                    entry: "POPPLIO. IT CREATES BALLOONS OF WATER WITH UNIQUE PROPERTIES THAT CAN SUPPORT ITS WEIGHT. NATURALLY ACROBATIC, IT COMBINES WATER MANIPULATION WITH GRACEFUL MOVEMENTS IN BATTLE."
                },
                'sobble': { 
                    id: 816, 
                    name: 'SOBBLE', 
                    type: 'WATER',
                    entry: "SOBBLE. ITS SKIN SECRETES A SPECIAL LIQUID THAT ALTERS LIGHT REFRACTION, EFFECTIVELY RENDERING IT INVISIBLE IN WATER. THE TEARS IT SHEDS CONTAIN A CHEMICAL THAT INDUCES UNCONTROLLABLE CRYING IN OTHERS."
                },
                'quaxly': { 
                    id: 912, 
                    name: 'QUAXLY', 
                    type: 'WATER',
                    entry: "QUAXLY. THE GLOSSY COATING ON ITS FEATHERS REPELS WATER AND DIRT. IT SPENDS SIGNIFICANT TIME GROOMING TO MAINTAIN THIS PROTECTIVE LAYER. HIGHLY DISCIPLINED AND METHODICAL IN ITS ACTIONS."
                }
            };
            
            // Major badges and descriptions - Using SVG badges with shortened descriptions
            const majorBadges = {
                'environmental': {
                    badgeSvg: `<svg class="pokemon-badge" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 5 L95 50 L50 95 L5 50 Z" fill="#3cb371" stroke="#2a8c51" stroke-width="3"/>
                        <path d="M50 15 L85 50 L50 85 L15 50 Z" fill="#4caf50" stroke="#2a8c51" stroke-width="2"/>
                        <path d="M50 30 L70 50 L50 70 L30 50 Z" fill="#8bc34a" stroke="#2a8c51" stroke-width="1"/>
                        <path d="M30 30 L70 70" stroke="#2a8c51" stroke-width="3" stroke-linecap="round"/>
                        <path d="M30 70 L70 30" stroke="#2a8c51" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="50" cy="50" r="10" fill="#e0f2f1" stroke="#2a8c51" stroke-width="2"/>
                        <circle cx="50" cy="50" r="5" fill="#2a8c51"/>
                    </svg>`,
                    name: 'FOREST BADGE',
                    description: 'MASTERY OF ENVISCI',
                    icon: 'ðŸŒ¿',
                    color: 'major-environmental',
                    accentClass: 'accent-environmental',
                    pokedexEntry: "ENVIRONMENTAL SCIENCE. A FIELD THAT STUDIES THE INTERACTIONS BETWEEN ORGANISMS AND THEIR SURROUNDINGS. TRAINERS IN THIS DISCIPLINE DEVELOP KEEN OBSERVATION SKILLS AND ECOLOGICAL AWARENESS, MUCH LIKE GRASS-TYPE POKÃ‰MON THAT THRIVE BY HARMONIZING WITH NATURE.",
                    badgeEntry: "FOREST BADGE: SIGNIFIES MASTERY OF ENVIRONMENTAL PRINCIPLES AND ECOLOGICAL BALANCE. HOLDERS DEMONSTRATE EXCEPTIONAL ABILITY TO UNDERSTAND ECOSYSTEMS AND DEVELOP SUSTAINABLE SOLUTIONS. THE GREEN PATTERN SYMBOLIZES INTERCONNECTED LIVING SYSTEMS.",
                    journeyStatement: "YOUR JOURNEY TO PROTECT AND PRESERVE OUR NATURAL ECOSYSTEMS BEGINS HERE..."
                },
                'biotechnology': {
                    badgeSvg: `<svg class="pokemon-badge" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="45" fill="#ff7043" stroke="#d84315" stroke-width="3"/>
                        <path d="M50 10 L60 40 L90 50 L60 60 L50 90 L40 60 L10 50 L40 40 Z" fill="#ff5722" stroke="#d84315" stroke-width="2"/>
                        <circle cx="50" cy="50" r="15" fill="#ffeb3b" stroke="#d84315" stroke-width="2"/>
                        <circle cx="50" cy="50" r="8" fill="#fff176"/>
                        <path d="M30 20 Q50 5 70 20" stroke="#d84315" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M30 80 Q50 95 70 80" stroke="#d84315" stroke-width="3" fill="none" stroke-linecap="round"/>
                    </svg>`,
                    name: 'VOLCANO BADGE',
                    description: 'MASTERY OF BIOTECH',
                    icon: 'ðŸ§¬',
                    color: 'major-biotechnology',
                    accentClass: 'accent-biotechnology',
                    pokedexEntry: "BIOTECHNOLOGY. A POWERFUL DISCIPLINE THAT HARNESSES CELLULAR AND BIOMOLECULAR PROCESSES TO DEVELOP NEW TECHNOLOGIES. TRAINERS SPECIALIZING IN THIS FIELD EXHIBIT TRAITS SIMILAR TO FIRE-TYPE POKÃ‰MON: TRANSFORMATIVE ENERGY, PRECISION, AND THE ABILITY TO CATALYZE CHANGE AT THE MOLECULAR LEVEL.",
                    badgeEntry: "VOLCANO BADGE: AWARDED FOR EXCEPTIONAL UNDERSTANDING OF BIOTECHNOLOGICAL PRINCIPLES AND LAB TECHNIQUES. THE FIERY DESIGN REPRESENTS TRANSFORMATIVE POWER AND ENERGY NEEDED FOR SCIENTIFIC INNOVATION. BEARERS ARE RECOGNIZED FOR ANALYTICAL PRECISION.",
                    journeyStatement: "YOUR PATH TO TRANSFORMING LIFE AT THE MOLECULAR LEVEL STARTS NOW..."
                },
                'microbiology': {
                    badgeSvg: `<svg class="pokemon-badge" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 5 L75 30 L75 70 L50 95 L25 70 L25 30 Z" fill="#29b6f6" stroke="#0288d1" stroke-width="3"/>
                        <path d="M50 20 L65 35 L65 65 L50 80 L35 65 L35 35 Z" fill="#4fc3f7" stroke="#0288d1" stroke-width="2"/>
                        <circle cx="50" cy="50" r="15" fill="#e1f5fe" stroke="#0288d1" stroke-width="2"/>
                        <path d="M40 30 Q50 20 60 30" stroke="#0288d1" stroke-width="3" fill="none"/>
                        <path d="M40 70 Q50 80 60 70" stroke="#0288d1" stroke-width="3" fill="none"/>
                        <circle cx="50" cy="50" r="5" fill="#0288d1"/>
                        <path d="M20 40 Q10 50 20 60" stroke="#29b6f6" stroke-width="2" fill="none"/>
                        <path d="M80 40 Q90 50 80 60" stroke="#29b6f6" stroke-width="2" fill="none"/>
                    </svg>`,
                    name: 'CASCADE BADGE',
                    description: 'MASTERY OF MICROBIO',
                    icon: 'ðŸ”¬',
                    color: 'major-microbiology',
                    accentClass: 'accent-microbiology',
                    pokedexEntry: "MICROBIOLOGY. A SPECIALIZED FIELD FOCUSED ON THE STUDY OF MICROSCOPIC ORGANISMS INVISIBLE TO THE NAKED EYE. TRAINERS IN THIS DISCIPLINE SHARE QUALITIES WITH WATER-TYPE POKÃ‰MON: ADAPTABILITY, PATIENCE, AND THE ABILITY TO THRIVE IN DIVERSE ENVIRONMENTS WHILE UNCOVERING HIDDEN PATTERNS.",
                    badgeEntry: "CASCADE BADGE: CERTIFIES SKILL IN IDENTIFYING AND WORKING WITH MICROSCOPIC ORGANISMS. THE DROPLET SHAPE SYMBOLIZES PRECISION AND ATTENTION TO DETAIL IN MICROBIOLOGICAL RESEARCH. BEARERS HAVE MASTERED LAB TECHNIQUES.",
                    journeyStatement: "YOUR ADVENTURE EXPLORING THE MICROSCOPIC WORLD BEGINS TODAY..."
                }
            };
            
            // Starter Pokemon by type for random assignment
            const startersByType = {
                'GRASS': ['bulbasaur', 'chikorita', 'treecko', 'turtwig', 'snivy', 'chespin', 'rowlet', 'grookey', 'sprigatito'],
                'FIRE': ['charmander', 'cyndaquil', 'torchic', 'chimchar', 'tepig', 'fennekin', 'litten', 'scorbunny', 'fuecoco'],
                'WATER': ['squirtle', 'totodile', 'mudkip', 'piplup', 'oshawott', 'froakie', 'popplio', 'sobble', 'quaxly']
            };
            
            // Part 1
const studentDatabase = {
  'C202303037': {
    studentNumber: 'C202303037',
    lastName: 'ALANO',
    firstName: 'FIONA MAE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 15,
    aptitudeMicrobio: 17,
    aptitudeEnvSci: 13
  },
  'C202302006': {
    studentNumber: 'C202302006',
    lastName: 'ARGOTE',
    firstName: 'JOBELYN',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 8,
    aptitudeMicrobio: 11,
    aptitudeEnvSci: 10
  },
  'C202301984': {
    studentNumber: 'C202301984',
    lastName: 'BORJA',
    firstName: 'ALEXANDRA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 7,
    aptitudeMicrobio: 9,
    aptitudeEnvSci: 8
  },
  'C202302011': {
    studentNumber: 'C202302011',
    lastName: 'CABRERA',
    firstName: 'SHELLYNA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 12,
    aptitudeMicrobio: 8,
    aptitudeEnvSci: 8
  },
  'C202302760': {
    studentNumber: 'C202302760',
    lastName: 'CALIOLIO',
    firstName: 'GAVIN IRA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 14,
    aptitudeMicrobio: 14,
    aptitudeEnvSci: 13
  },
  'C202303013': {
    studentNumber: 'C202303013',
    lastName: 'CANLAS',
    firstName: 'ANDREA LENELLE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 14,
    aptitudeMicrobio: 18,
    aptitudeEnvSci: 18
  },
  'C202302512': {
    studentNumber: 'C202302512',
    lastName: 'CASTRO',
    firstName: 'MARIEL',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 15,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 9
  },
  'C202302097': {
    studentNumber: 'C202302097',
    lastName: 'CIPRE',
    firstName: 'GABRIELA NICOLE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 22,
    aptitudeMicrobio: 21,
    aptitudeEnvSci: 15
  },
  'C202302027': {
    studentNumber: 'C202302027',
    lastName: 'DEGALA',
    firstName: 'ALYSSA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: true,
    aptitudeBiotech: 14,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 15
  },
  'C202301940': {
    studentNumber: 'C202301940',
    lastName: 'DEL MUNDO',
    firstName: 'REYCHELLE VALERIE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 21,
    aptitudeMicrobio: 17,
    aptitudeEnvSci: 13
  },
  'C202302028': {
    studentNumber: 'C202302028',
    lastName: 'DELA CRUZ',
    firstName: 'CLARENCE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 24,
    aptitudeMicrobio: 26,
    aptitudeEnvSci: 22
  },
  'C202302100': {
    studentNumber: 'C202302100',
    lastName: 'DELA CRUZ',
    firstName: 'JERICO',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 13,
    aptitudeMicrobio: 17,
    aptitudeEnvSci: 6
  },
  'C202303054': {
    studentNumber: 'C202303054',
    lastName: 'DEMATA',
    firstName: 'KLAIRRA VYEN',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 13,
    aptitudeMicrobio: 16,
    aptitudeEnvSci: 16
  },
  'C202303058': {
    studentNumber: 'C202303058',
    lastName: 'DEMATA',
    firstName: 'ARIANA ROSE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 18,
    aptitudeMicrobio: 20,
    aptitudeEnvSci: 11
  },
  'C202302032': {
    studentNumber: 'C202302032',
    lastName: 'DIAZ',
    firstName: 'RHANIA ALTHEA',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 21,
    aptitudeMicrobio: 19,
    aptitudeEnvSci: 15
  },
  'C202302035': {
    studentNumber: 'C202302035',
    lastName: 'DIZON',
    firstName: 'CLARISSA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 12,
    aptitudeMicrobio: 14,
    aptitudeEnvSci: 9
  },

// Part 2
  'c202301943': {
    studentNumber: 'c202301943',
    lastName: 'ESPINO',
    firstName: 'ANGELIKA',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 18,
    aptitudeMicrobio: 18,
    aptitudeEnvSci: 17
  },
  'C202301946': {
    studentNumber: 'C202301946',
    lastName: 'GONZALES',
    firstName: 'ALYZZA',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 19,
    aptitudeMicrobio: 22,
    aptitudeEnvSci: 14
  },
  'C202303059': {
    studentNumber: 'C202303059',
    lastName: 'GUEVARRA',
    firstName: 'EURINE',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 6,
    aptitudeMicrobio: 10,
    aptitudeEnvSci: 7
  },
  'C202301951': {
    studentNumber: 'C202301951',
    lastName: 'HALILI',
    firstName: 'ANNA MICHAELA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 14,
    aptitudeMicrobio: 14,
    aptitudeEnvSci: 12
  },
  'C202301952': {
    studentNumber: 'C202301952',
    lastName: 'IGNACIO',
    firstName: 'VIVIENNE ERICE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 13,
    aptitudeMicrobio: 14,
    aptitudeEnvSci: 12
  },
  'C202302042': {
    studentNumber: 'C202302042',
    lastName: 'LACSON',
    firstName: 'ZEIVION',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 16,
    aptitudeMicrobio: 17,
    aptitudeEnvSci: 14
  },
  'C202302532': {
    studentNumber: 'C202302532',
    lastName: 'LAPUZ',
    firstName: 'ANALYN',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 11,
    aptitudeMicrobio: 16,
    aptitudeEnvSci: 9
  },
  'C202302043': {
    studentNumber: 'C202302043',
    lastName: 'LAYUG',
    firstName: 'ANNE KATHLEEN',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 12,
    aptitudeMicrobio: 18,
    aptitudeEnvSci: 12
  },
  'C202302107': {
    studentNumber: 'C202302107',
    lastName: 'LOPEZ',
    firstName: 'ANGELO GABRIEL',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 17,
    aptitudeMicrobio: 15,
    aptitudeEnvSci: 10
  },
  'C202302046': {
    studentNumber: 'C202302046',
    lastName: 'MALONZO',
    firstName: 'CZARINA MAE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 15,
    aptitudeMicrobio: 15,
    aptitudeEnvSci: 12
  },
  'C202301960': {
    studentNumber: 'C202301960',
    lastName: 'MANALANG',
    firstName: 'JUSMINE ANDRIE',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 16,
    aptitudeMicrobio: 16,
    aptitudeEnvSci: 10
  },
  'C202302511': {
    studentNumber: 'C202302511',
    lastName: 'MANICDAO',
    firstName: 'IRISH YANCY',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 11,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 12
  },
  'C202301966': {
    studentNumber: 'C202301966',
    lastName: 'MANLUTAC',
    firstName: 'ARIANNE JADE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 21,
    aptitudeMicrobio: 22,
    aptitudeEnvSci: 17
  },
  'C202302115': {
    studentNumber: 'C202302115',
    lastName: 'MARCELO',
    firstName: 'KHARISH MAAN',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 14,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 12
  },
  'C202302117': {
    studentNumber: 'C202302117',
    lastName: 'MEJIA',
    firstName: 'HEIDE',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 8,
    aptitudeMicrobio: 5,
    aptitudeEnvSci: 5
  },
  'C202200221': {
    studentNumber: 'C202200221',
    lastName: 'MICLAT',
    firstName: 'AILEEN',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 18,
    aptitudeMicrobio: 22,
    aptitudeEnvSci: 22
  },

// Part 3
  'C202302052': {
    studentNumber: 'C202302052',
    lastName: 'MIRANDA',
    firstName: 'SHANE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 13,
    aptitudeMicrobio: 11,
    aptitudeEnvSci: 13
  },
  'C202302053': {
    studentNumber: 'C202302053',
    lastName: 'NALEZ',
    firstName: 'PATRICIA MAE',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 11,
    aptitudeMicrobio: 14,
    aptitudeEnvSci: 12
  },
  'C202302054': {
    studentNumber: 'C202302054',
    lastName: 'NUGUID',
    firstName: 'ALCEYHNE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 11,
    aptitudeMicrobio: 6,
    aptitudeEnvSci: 8
  },
  'C202100028': {
    studentNumber: 'C202100028',
    lastName: 'PADUA',
    firstName: 'MARJORIE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: false,
    aptitudeBiotech: 17,
    aptitudeMicrobio: 15,
    aptitudeEnvSci: 7
  },
  'C202302123': {
    studentNumber: 'C202302123',
    lastName: 'PASAMONTE',
    firstName: 'EUAN EIMER',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 21,
    aptitudeMicrobio: 23,
    aptitudeEnvSci: 20
  },
  'C202302127': {
    studentNumber: 'C202302127',
    lastName: 'PUNZALAN',
    firstName: 'MICHELLE',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 6,
    aptitudeMicrobio: 11,
    aptitudeEnvSci: 12
  },
  'C202301970': {
    studentNumber: 'C202301970',
    lastName: 'SAMPANG',
    firstName: 'JERVIN',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 18,
    aptitudeMicrobio: 16,
    aptitudeEnvSci: 19
  },
  'C202302130': {
    studentNumber: 'C202302130',
    lastName: 'SANTOS',
    firstName: 'PRINCESS RUSSELL',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: true,
    aptitudeBiotech: 14,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 16
  },
  'C202302771': {
    studentNumber: 'C202302771',
    lastName: 'SUAREZ',
    firstName: 'LIAN JOY',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 13,
    aptitudeMicrobio: 9,
    aptitudeEnvSci: 5
  },
  'C202302505': {
    studentNumber: 'C202302505',
    lastName: 'TAN',
    firstName: 'ALLAINE REDGE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 15,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 9
  },
  'C202301972': {
    studentNumber: 'C202301972',
    lastName: 'TRASGA',
    firstName: 'IVY ROSE',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 15,
    aptitudeMicrobio: 11,
    aptitudeEnvSci: 11
  },
  'C202302066': {
    studentNumber: 'C202302066',
    lastName: 'VIRAY',
    firstName: 'JOSHUA JARED',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: true,
    eligibilityMicrobio: false,
    eligibilityEnvSci: true,
    aptitudeBiotech: 18,
    aptitudeMicrobio: 10,
    aptitudeEnvSci: 19
  },
  'C202302067': {
    studentNumber: 'C202302067',
    lastName: 'VITA',
    firstName: 'JERILYN',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 15,
    aptitudeMicrobio: 17,
    aptitudeEnvSci: 15
  },
  'C202302068': {
    studentNumber: 'C202302068',
    lastName: 'YABUT',
    firstName: 'JHON CARLO',
    designatedMajor: 'microbio',
    majorName: 'MICROBIOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 22,
    aptitudeMicrobio: 21,
    aptitudeEnvSci: 19
  },
  'C202302140': {
    studentNumber: 'C202302140',
    lastName: 'ZABLAN',
    firstName: 'DENNISSA ICAH',
    designatedMajor: 'biotech',
    majorName: 'BIOTECHNOLOGY',
    eligibilityBiotech: true,
    eligibilityMicrobio: true,
    eligibilityEnvSci: true,
    aptitudeBiotech: 21,
    aptitudeMicrobio: 18,
    aptitudeEnvSci: 15
  },
  'C202301973': {
    studentNumber: 'C202301973',
    lastName: 'ZENAROSA',
    firstName: 'ANDREA',
    designatedMajor: 'environmental',
    majorName: 'ENVIRONMENTAL SCIENCE',
    eligibilityBiotech: false,
    eligibilityMicrobio: false,
    eligibilityEnvSci: false,
    aptitudeBiotech: 10,
    aptitudeMicrobio: 12,
    aptitudeEnvSci: 12
  },
};
            
            // Helper function to get a random starter Pokemon based on major
            function getRandomStarterForMajor(major) {
                let starterType;
                switch(major) {
                    case 'environmental':
                        starterType = 'GRASS';
                        break;
                    case 'biotechnology':
                        starterType = 'FIRE';
                        break;
                    case 'microbiology':
                        starterType = 'WATER';
                        break;
                    default:
                        starterType = 'GRASS';
                }
                
                const possibleStarters = startersByType[starterType];
                const randomIndex = Math.floor(Math.random() * possibleStarters.length);
                return possibleStarters[randomIndex];
            }
            
            // Search function
            function searchStudent() {
                const query = searchInput.value.trim();
                
                if (!query) {
                    showError("TRAINER ID REQUIRED. PLEASE INPUT VALID CREDENTIALS.");
                    return;
                }
                
                // Show loading screen
                searchScreen.classList.add('hidden');
                loadingScreen.classList.remove('hidden');
                
                // Reset the View Results button to hidden state
                viewResultsButton.classList.add('hidden');
                
                // Start scanning animation
                startScanningAnimation();
            }
            
            // Scanning animation - Redesigned with cycling messages
            function startScanningAnimation() {
                const scanMessages = [
                    "EVALUATING SCIENTIFIC APTITUDE SCORES...",
                    "ANALYZING ALIGNMENT OF INTERESTS...",
                    "INTERPRETING SITUATIONAL DECISION PATTERNS...",
                    "FILTERING ELIGIBLE MAJOR TRACKS...",
                    "COMPARING WEIGHTED PLACEMENT SCORES...",
                    "FINALIZING ASSIGNMENT PROTOCOL..."
                ];
                
                const scanMessage = document.getElementById('scanMessage');
                const scanProgress = document.getElementById('scanProgress');
                const scanPercentage = document.getElementById('scanPercentage');
                
                let currentMessageIndex = 0;
                let totalProgress = 0;
                
                function showNextMessage() {
                    if (currentMessageIndex >= scanMessages.length) {
                        // All messages shown - show the View Results button
                        setTimeout(() => {
                            document.getElementById('scanningPokeball').classList.remove('shake');
                            viewResultsButton.classList.remove('hidden');
                        }, 500);
                        return;
                    }
                    
                    // Show current message with animation
                    scanMessage.textContent = scanMessages[currentMessageIndex];
                    scanMessage.classList.add('message-animate');
                    
                    // Progress increment per message
                    const progressIncrement = 100 / scanMessages.length;
                    const startProgress = totalProgress;
                    const targetProgress = startProgress + progressIncrement;
                    
                    // Animate progress bar
                    let currentProgress = startProgress;
                    const progressInterval = setInterval(() => {
                        currentProgress += 1;
                        scanProgress.style.width = `${currentProgress}%`;
                        scanPercentage.textContent = `${Math.round(currentProgress)}%`;
                        
                        if (currentProgress >= targetProgress) {
                            clearInterval(progressInterval);
                            totalProgress = targetProgress;
                            
                            // Wait and show next message
                            setTimeout(() => {
                                scanMessage.classList.remove('message-animate');
                                currentMessageIndex++;
                                setTimeout(showNextMessage, 300);
                            }, 1500);
                        }
                    }, 30);
                }
                
                // Start the animation
                showNextMessage();
            }
            
            // Show student data
            function showStudentData(studentId) {
                const student = studentDatabase[studentId];
                
                if (!student) {
                    showError("TRAINER NOT FOUND IN POKÃ‰DEX DATABASE. VERIFY ID AND RETRY SCAN.");
                    return;
                }
                
                // Assign a random starter Pokemon based on major
                const starterPokemonId = getRandomStarterForMajor(student.designatedMajor);
                const pokemon = starterPokemon[starterPokemonId];
                const badge = majorBadges[student.designatedMajor];
                
                // Set trainer info in the top bars of all pages - larger font
                const fullName = `${student.firstName} ${student.lastName}`;
                document.getElementById('trainerNameBar1').textContent = `TRAINER: ${fullName}`;
                document.getElementById('trainerIdBar1').textContent = `ID: ${studentId}`;
                document.getElementById('trainerNameBar2').textContent = `TRAINER: ${fullName}`;
                document.getElementById('trainerIdBar2').textContent = `ID: ${studentId}`;
                document.getElementById('trainerNameBar3').textContent = `TRAINER: ${fullName}`;
                document.getElementById('trainerIdBar3').textContent = `ID: ${studentId}`;
                document.getElementById('trainerNameBar4').textContent = `TRAINER: ${fullName}`;
                document.getElementById('trainerIdBar4').textContent = `ID: ${studentId}`;
                
                document.getElementById('pokemonEntry').textContent = pokemon.entry;
                
                // Set Pokemon image
                fetchPokemonImage(pokemon.id)
                    .then(imageUrl => {
                        document.getElementById('starterPokemonImage').src = imageUrl;
                        document.getElementById('starterPokemonName').textContent = pokemon.name;
                        
                        // Also set for Page 4
                        document.getElementById('badgeStarterPokemon').src = imageUrl;
                        document.getElementById('starterPokemonNameBadge').textContent = pokemon.name;
                        
                        // Set Pokemon type tag with appropriate styling
                        const typeTag = document.getElementById('starterPokemonType');
                        typeTag.textContent = `${pokemon.type} STARTER`;
                        typeTag.className = `pokemon-type-tag type-${pokemon.type.toLowerCase()}`;
                    })
                    .catch(() => {
                        // Fallback image
                        const fallbackUrl = `https://via.placeholder.com/100?text=${pokemon.name}`;
                        document.getElementById('starterPokemonImage').src = fallbackUrl;
                        document.getElementById('starterPokemonName').textContent = pokemon.name;
                        document.getElementById('badgeStarterPokemon').src = fallbackUrl;
                        document.getElementById('starterPokemonNameBadge').textContent = pokemon.name;
                        
                        // Set Pokemon type tag with appropriate styling
                        const typeTag = document.getElementById('starterPokemonType');
                        typeTag.textContent = `${pokemon.type} STARTER`;
                        typeTag.className = `pokemon-type-tag type-${pokemon.type.toLowerCase()}`;
                    });
                
                // Page 2: Aptitude Scan Results - Visual progress bars
                const envScore = student.aptitudeEnvSci;
                const bioScore = student.aptitudeBiotech;
                const microScore = student.aptitudeMicrobio;
                
                // Set scores and progress bars
                document.getElementById('envScore').textContent = envScore;
                document.getElementById('envScore').className = `status-tag ${student.eligibilityEnvSci ? 'status-eligible' : 'status-ineligible'}`;
                document.getElementById('envProgress').style.width = `${(envScore/25)*100}%`;
                document.getElementById('envProgress').style.backgroundColor = student.eligibilityEnvSci ? '#3cb371' : '#e74c3c';
                
                document.getElementById('bioScore').textContent = bioScore;
                document.getElementById('bioScore').className = `status-tag ${student.eligibilityBiotech ? 'status-eligible' : 'status-ineligible'}`;
                document.getElementById('bioProgress').style.width = `${(bioScore/25)*100}%`;
                document.getElementById('bioProgress').style.backgroundColor = student.eligibilityBiotech ? '#4169e1' : '#e74c3c';
                
                document.getElementById('microScore').textContent = microScore;
                document.getElementById('microScore').className = `status-tag ${student.eligibilityMicrobio ? 'status-eligible' : 'status-ineligible'}`;
                document.getElementById('microProgress').style.width = `${(microScore/25)*100}%`;
                document.getElementById('microProgress').style.backgroundColor = student.eligibilityMicrobio ? '#ff69b4' : '#e74c3c';
                
                // Page 3: Major Assignment - Now with white background and colored accents
                const majorIcon = document.getElementById('majorIcon');
                majorIcon.textContent = badge.icon;
                majorIcon.className = `major-icon ${badge.color}`;
                
                // Set major name with color
                const assignedMajorTitle = document.getElementById('assignedMajorTitle');
                assignedMajorTitle.textContent = student.majorName;
                assignedMajorTitle.className = `major-name-display ${badge.color}`;
                
                // Check if student is eligible for any major
                const isEligibleForAnyMajor = student.eligibilityBiotech || student.eligibilityMicrobio || student.eligibilityEnvSci;
                
                // Set improved assignment message with more PokÃ©dex-like language
                const assignmentMessage = document.getElementById('assignmentMessage');
                if (isEligibleForAnyMajor) {
                    assignmentMessage.textContent = `POKÃ‰DEX ANALYSIS COMPLETE: NEURAL COMPATIBILITY SCAN REVEALS EXCEPTIONAL AFFINITY WITH ${student.majorName}. GENETIC MARKERS AND COGNITIVE PATTERNS INDICATE NATURAL TALENT FOR THIS FIELD.`;
                } else {
                    assignmentMessage.textContent = `ALERT: COMPATIBILITY SCAN INCONCLUSIVE. NO MAJOR SPECIALIZATION REACHED REQUIRED THRESHOLD. TEMPORARY ASSIGNMENT BASED ON HIGHEST POTENTIAL GROWTH VECTORS.`;
                }
                
                // Set major description with accent
                const majorDescription = document.getElementById('majorDescription');
                majorDescription.textContent = badge.pokedexEntry;
                majorDescription.className = `text-sm pokedex-entry ${badge.accentClass}`;
                
                // Page 4: Badge Registration - Now with white background and colored accents
                // Set journey statement - now major-specific and talking to the trainer (ALL CAPS)
                document.getElementById('journeyStatement').textContent = badge.journeyStatement;
                
                // Set major title with color
                const badgeAssignedMajorTitle = document.getElementById('badgeAssignedMajorTitle');
                badgeAssignedMajorTitle.textContent = student.majorName;
                badgeAssignedMajorTitle.className = `major-highlight ${badge.color}`;
                
                // Set badge SVG
                document.getElementById('majorBadgeContainer').innerHTML = badge.badgeSvg;
                document.getElementById('badgeName').textContent = badge.name;
                document.getElementById('badgeDescription').textContent = badge.description;
                
                // Set badge entry with accent - using consistent font size
                const badgeEntry = document.getElementById('badgeEntry');
                badgeEntry.textContent = badge.badgeEntry;
                badgeEntry.className = `badge-entry ${badge.accentClass}`;
                
                // Show Page 1
                loadingScreen.classList.add('hidden');
                page1.classList.remove('hidden');
            }
            
            // Function to fetch Pokemon image from PokeAPI
            async function fetchPokemonImage(pokemonId) {
                try {
                    const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonId}`);
                    
                    if (!response.ok) {
                        throw new Error('Pokemon not found');
                    }
                    
                    const data = await response.json();
                    return data.sprites.other['official-artwork'].front_default || data.sprites.front_default;
                } catch (error) {
                    throw error;
                }
            }
            
            // Show error
            function showError(message) {
                document.getElementById('errorMessage').textContent = message;
                searchScreen.classList.add('hidden');
                loadingScreen.classList.add('hidden');
                page1.classList.add('hidden');
                page2.classList.add('hidden');
                page3.classList.add('hidden');
                page4.classList.add('hidden');
                errorScreen.classList.remove('hidden');
            }
            
            // Event listeners
            searchButton.addEventListener('click', searchStudent);
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchStudent();
                }
            });
            
            viewResultsButton.addEventListener('click', function() {
                const studentId = searchInput.value.trim();
                showStudentData(studentId);
            });
            
            backToSearchButton.addEventListener('click', function() {
                errorScreen.classList.add('hidden');
                searchScreen.classList.remove('hidden');
            });
            
            scanAnotherButton.addEventListener('click', function() {
                page4.classList.add('hidden');
                searchInput.value = '';
                searchScreen.classList.remove('hidden');
            });
            
            // Navigation between pages
            nextToPage2.addEventListener('click', function() {
                page1.classList.add('hidden');
                page2.classList.remove('hidden');
            });
            
            prevToPage1.addEventListener('click', function() {
                page2.classList.add('hidden');
                page1.classList.remove('hidden');
            });
            
            nextToPage3.addEventListener('click', function() {
                page2.classList.add('hidden');
                page3.classList.remove('hidden');
            });
            
            prevToPage2.addEventListener('click', function() {
                page3.classList.add('hidden');
                page2.classList.remove('hidden');
            });
            
            nextToPage4.addEventListener('click', function() {
                page3.classList.add('hidden');
                page4.classList.remove('hidden');
            });
            
            prevToPage3.addEventListener('click', function() {
                page4.classList.add('hidden');
                page3.classList.remove('hidden');
            });
        });
    </script>
</body>
</html>