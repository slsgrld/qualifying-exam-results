<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSAU Biology Pokédex</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&family=Poppins:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'VT323', monospace;
            background-color: #ffffff;
        }
        
        .pokedex-outer {
            background-color: #e61515;
            border-radius: 20px;
            box-shadow: 
                0 0 0 2px #b30000,
                0 0 0 4px #e61515,
                5px 5px 20px rgba(0, 0, 0, 0.4);
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .pokedex-inner {
            background-color: #e61515;
        }
        
        .pokedex-screen {
            background-color: #c8e6c9;
            border: 2px solid #455a64;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
            height: 600px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border-radius: 8px;
        }
        
        .pokedex-screen-inner {
            background-color: #ffffff;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            border-radius: 4px;
        }
        
        .pokedex-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }
        
        .pokedex-divider {
            background: linear-gradient(to right, #b30000, #e61515, #b30000);
            height: 4px;
            position: relative;
        }
        
        .pokedex-divider::before {
            content: '';
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 24px;
            background-color: #455a64;
            border-radius: 50%;
            border: 4px solid #263238;
        }
        
        .pokedex-button {
            background-color: #455a64;
            border: 2px solid #263238;
            border-radius: 50%;
            width: 16px;
            height: 16px;
        }
        
        .pokedex-button.blue {
            background-color: #2196f3;
            border-color: #1976d2;
        }
        
        .pokedex-button.red {
            background-color: #f44336;
            border-color: #d32f2f;
        }
        
        .pokedex-button.yellow {
            background-color: #ffeb3b;
            border-color: #fbc02d;
        }
        
        .pokedex-button.green {
            background-color: #4caf50;
            border-color: #388e3c;
        }
        
        .pokedex-led {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #f8f8f8;
            border: 1px solid #455a64;
        }
        
        .pokedex-led.active {
            background-color: #4caf50;
            box-shadow: 0 0 10px #4caf50;
        }
        
        .major-environmental { background-color: #66bb6a; color: white; }
        .major-biotechnology { background-color: #42a5f5; color: white; }
        .major-microbiology { background-color: #ec407a; color: white; }
        
        .bg-environmental { background-color: #66bb6a; }
        .bg-biotechnology { background-color: #42a5f5; }
        .bg-microbiology { background-color: #ec407a; }
        
        .border-environmental { border-color: #66bb6a; }
        .border-biotechnology { border-color: #42a5f5; }
        .border-microbiology { border-color: #ec407a; }
        
        .text-environmental { color: #66bb6a; }
        .text-biotechnology { color: #42a5f5; }
        .text-microbiology { color: #ec407a; }
        
        .stat-bar {
            height: 8px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .stat-fill {
            height: 100%;
            border-radius: 4px;
        }
        
        .stat-fill.environmental {
            background-color: #66bb6a;
        }
        
        .stat-fill.biotechnology {
            background-color: #42a5f5;
        }
        
        .stat-fill.microbiology {
            background-color: #ec407a;
        }
        
        /* Blinking cursor effect */
        .blink {
            animation: blink-animation 1s steps(5, start) infinite;
        }
        
        @keyframes blink-animation {
            to {
                visibility: hidden;
            }
        }
        
        .eligibility-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 6px;
        }
        
        .eligibility-indicator.eligible {
            background-color: #4caf50;
            box-shadow: 0 0 5px #4caf50;
        }
        
        .eligibility-indicator.not-eligible {
            background-color: #f44336;
            box-shadow: 0 0 5px #f44336;
        }
        
        /* Custom scrollbar */
        .pokedex-content::-webkit-scrollbar {
            width: 6px;
        }
        
        .pokedex-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 3px;
        }
        
        .pokedex-content::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }
        
        .pokedex-content::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.2);
        }
        
        /* Modal styles */
        .modal-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: #c8e6c9;
            border: 2px solid #455a64;
            border-radius: 12px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        
        /* Pagination controls */
        .pagination-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-top: 1px solid #e0e0e0;
            background-color: #f5f5f5;
            border-radius: 0 0 4px 4px;
        }
        
        /* Progress bar */
        .progress-container {
            width: 100%;
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 10px;
            background: linear-gradient(to right, #4caf50, #8bc34a);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
        }
        
        /* Badge styles */
        .badge-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f5f5f5;
            border-radius: 50%;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        /* Table styles */
        .aptitude-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .aptitude-table th, .aptitude-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .aptitude-table th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        
        .aptitude-table tr:last-child td {
            border-bottom: none;
        }
        
        .aptitude-table tr:hover td {
            background-color: #f9f9f9;
        }
        
        /* Pokemon container */
        .pokemon-image-container {
            width: 120px;
            height: 120px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            overflow: hidden;
            position: relative;
        }
        
        /* Header bar */
        .trainer-header {
            background: linear-gradient(to right, #455a64, #607d8b);
            color: #ffffff;
            padding: 12px 16px;
            border-radius: 4px 4px 0 0;
            font-size: 1.1rem;
            text-align: center;
            border-bottom: 1px solid #37474f;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* Summary page layout */
        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }
        
        /* Journey message */
        .journey-message {
            background-color: #f5f5f5;
            border-left: 4px solid;
            padding: 16px;
            margin: 16px 0;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .journey-message.environmental {
            border-color: #66bb6a;
        }
        
        .journey-message.biotechnology {
            border-color: #42a5f5;
        }
        
        .journey-message.microbiology {
            border-color: #ec407a;
        }
        
        /* Badge icons */
        .badge-icon {
            font-size: 48px;
            color: #455a64;
        }
        
        .badge-icon.environmental {
            color: #66bb6a;
        }
        
        .badge-icon.biotechnology {
            color: #42a5f5;
        }
        
        .badge-icon.microbiology {
            color: #ec407a;
        }
        
        /* Bottom controls container */
        .bottom-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
        }
        
        /* Control buttons container */
        .control-buttons {
            display: flex;
            gap: 12px;
        }
        
        /* New search field */
        .trainer-id-search {
            position: relative;
            margin: 0 auto;
            max-width: 300px;
            height: 60px;
        }
        
        .trainer-id-input {
            width: 100%;
            height: 100%;
            border: 3px solid #333;
            border-radius: 30px;
            padding: 0 20px;
            font-size: 18px;
            background-color: #f5f5f5;
            text-align: center;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .scan-button {
            position: absolute;
            right: 5px;
            top: 5px;
            height: calc(100% - 10px);
            border-radius: 25px;
            padding: 0 20px;
            background-color: #e61515;
            color: white;
            border: none;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* Protocol button */
        .protocol-button {
            background-color: #2196f3;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin: 16px auto;
            font-weight: bold;
            max-width: 300px;
        }
        
        /* Major classification label */
        .major-classification {
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            text-align: center;
            background-color: white;
            margin: 0 auto 16px;
            max-width: 300px;
        }
        
        .major-classification.environmental {
            border-left: 4px solid #66bb6a;
        }
        
        .major-classification.biotechnology {
            border-left: 4px solid #42a5f5;
        }
        
        .major-classification.microbiology {
            border-left: 4px solid #ec407a;
        }
        
        /* Click indicator */
        .click-indicator {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background-color: #2196f3;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        /* Scan animation */
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, transparent, #4caf50, transparent);
            box-shadow: 0 0 10px #4caf50;
            animation: scan 2s linear infinite;
            z-index: 10;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
        
        /* Search button */
        .search-button {
            background-color: #455a64;
            color: #ffffff;
            border: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        /* D-pad */
        .d-pad {
            position: relative;
            width: 60px;
            height: 60px;
        }
        
        .d-pad-button {
            position: absolute;
            background-color: #455a64;
            border: 1px solid #263238;
        }
        
        .d-pad-center {
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
        
        .d-pad-up, .d-pad-down {
            width: 20px;
            height: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .d-pad-up {
            top: 0;
        }
        
        .d-pad-down {
            bottom: 0;
        }
        
        .d-pad-left, .d-pad-right {
            width: 20px;
            height: 20px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .d-pad-left {
            left: 0;
        }
        
        .d-pad-right {
            right: 0;
        }
        
        /* Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
        }
        
        /* Major badge container */
        .major-badge-container {
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            text-align: center;
            background-color: white;
        }
        
        /* Major name text */
        .major-name {
            font-size: 1.5rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="min-h-screen flex flex-col items-center justify-center py-8 px-4">
        <div class="pokedex-outer">
            <!-- Top part of Pokedex -->
            <div class="pokedex-inner p-3">
                <div class="flex items-center mb-3">
                    <div class="pokedex-button blue w-8 h-8 mr-3"></div>
                    <div class="flex space-x-2 ml-2">
                        <div class="pokedex-led red"></div>
                        <div class="pokedex-led yellow"></div>
                        <div class="pokedex-led green"></div>
                    </div>
                    <h1 class="text-xl font-bold text-white ml-4">PSAU BIOLOGY POKÉDEX</h1>
                </div>
                
                <div class="pokedex-screen p-2 mb-3 relative">
                    <div class="pokedex-screen-inner">
                        <!-- Search Screen -->
                        <div id="search-screen" class="h-full flex flex-col">
                            <div class="pokedex-content flex flex-col justify-center">
                                <h2 class="text-2xl font-bold mb-6 text-center">TRAINER IDENTIFICATION</h2>
                                
                                <div class="mb-8 flex justify-center">
                                    <div class="w-32 h-32 relative">
                                        <div class="w-full h-1/2 bg-red-500 rounded-t-full border-2 border-gray-800"></div>
                                        <div class="w-full h-1/2 bg-white rounded-b-full border-2 border-gray-800 border-t-0"></div>
                                        <div class="absolute top-1/2 left-0 w-full h-4 bg-gray-800 transform -translate-y-1/2"></div>
                                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 bg-white rounded-full border-4 border-gray-800"></div>
                                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-gray-800 rounded-full"></div>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <div class="mb-4 trainer-id-search">
                                        <input type="text" id="student-id" placeholder="ENTER TRAINER ID" 
                                            class="trainer-id-input">
                                        <button id="scan-button" class="scan-button">
                                            SCAN
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="text-center">
                                    <p class="text-sm text-gray-600">POKÉDEX READY <span class="blink">_</span></p>
                                    <p class="text-xs text-gray-500 mt-2">SCAN TRAINER ID TO IDENTIFY MAJOR CLASSIFICATION</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Analysis Screen -->
                        <div id="analysis-screen" class="hidden h-full flex flex-col">
                            <div class="pokedex-content flex flex-col justify-center relative">
                                <h2 class="text-2xl font-bold mb-4 text-center">ANALYZING TRAINER DATA</h2>
                                
                                <div class="scan-line"></div>
                                
                                <div id="current-analysis-step" class="text-center mb-4 font-bold text-blue-600">
                                    SCANNING TRAINER APTITUDE SIGNATURE
                                </div>
                                
                                <div class="progress-container">
                                    <div id="analysis-progress" class="progress-bar"></div>
                                </div>
                                
                                <div id="analysis-details" class="text-center text-sm text-gray-700 mt-2">
                                    STEP 1/8
                                </div>
                                
                                <div id="view-results-container" class="hidden mt-8 text-center">
                                    <button id="view-results-btn" class="search-button px-6 py-3 rounded-md">
                                        VIEW SCAN RESULTS
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- No Result Screen -->
                        <div id="no-result" class="hidden h-full flex flex-col">
                            <div class="pokedex-content flex flex-col justify-center items-center">
                                <i class="fas fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
                                <h2 class="text-2xl font-bold mb-2">NO DATA FOUND</h2>
                                <p class="mb-6 text-center">TRAINER ID NOT REGISTERED IN POKÉDEX DATABASE.</p>
                                <button id="scan-again-btn" class="search-button px-6 py-2 rounded-md">
                                    SCAN AGAIN
                                </button>
                            </div>
                        </div>
                        
                        <!-- Results Screens -->
                        <!-- Page 1: Aptitude Analysis -->
                        <div id="aptitude-screen" class="hidden h-full flex flex-col">
                            <div id="trainer-header-aptitude" class="trainer-header">
                                <!-- Will be populated dynamically -->
                            </div>
                            
                            <div class="pokedex-content">
                                <h2 class="text-2xl font-bold mb-4 text-center">SCIENTIFIC APTITUDE ANALYSIS</h2>
                                
                                <table class="aptitude-table">
                                    <thead>
                                        <tr>
                                            <th>MAJOR</th>
                                            <th>SCORE</th>
                                            <th>STATUS</th>
                                        </tr>
                                    </thead>
                                    <tbody id="aptitude-table-body">
                                        <!-- Will be populated dynamically -->
                                    </tbody>
                                </table>
                                
                                <div class="legend">
                                    <div class="legend-item">
                                        <span class="eligibility-indicator eligible mr-2"></span>
                                        <span>COMPATIBLE</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="eligibility-indicator not-eligible mr-2"></span>
                                        <span>INCOMPATIBLE</span>
                                    </div>
                                </div>
                                
                                <button id="protocol-button" class="protocol-button">
                                    <i class="fas fa-info-circle mr-2"></i> VIEW PLACEMENT PROTOCOL
                                </button>
                            </div>
                            
                            <div class="pagination-controls">
                                <span>PAGE 1/3</span>
                                <button id="aptitude-next" class="search-button px-4 py-1 rounded-md">NEXT <i class="fas fa-arrow-right ml-1"></i></button>
                            </div>
                        </div>
                        
                        <!-- Page 2: Major Classification -->
                        <div id="major-screen" class="hidden h-full flex flex-col">
                            <div id="trainer-header-major" class="trainer-header">
                                <!-- Will be populated dynamically -->
                            </div>
                            
                            <div class="pokedex-content">
                                <h2 class="text-2xl font-bold mb-4 text-center">MAJOR CLASSIFICATION</h2>
                                
                                <div id="major-badge" class="mb-6 text-center">
                                    <!-- Will be populated dynamically -->
                                </div>
                                
                                <div id="major-message" class="info-box">
                                    <!-- Will be populated dynamically -->
                                </div>
                            </div>
                            
                            <div class="pagination-controls">
                                <button id="major-prev" class="search-button px-4 py-1 rounded-md"><i class="fas fa-arrow-left mr-1"></i> PREV</button>
                                <span>PAGE 2/3</span>
                                <button id="major-next" class="search-button px-4 py-1 rounded-md">NEXT <i class="fas fa-arrow-right ml-1"></i></button>
                            </div>
                        </div>
                        
                        <!-- Page 3: Trainer Summary -->
                        <div id="summary-screen" class="hidden h-full flex flex-col">
                            <div id="trainer-header-summary" class="trainer-header">
                                <!-- Will be populated dynamically -->
                            </div>
                            
                            <div class="pokedex-content">
                                <h2 class="text-2xl font-bold mb-4 text-center">TRAINER REGISTRATION COMPLETE</h2>
                                
                                <div id="major-classification-label" class="major-classification">
                                    <!-- Will be populated dynamically -->
                                </div>
                                
                                <div class="summary-grid">
                                    <div class="text-center">
                                        <h3 class="font-bold mb-2">PARTNER POKÉMON</h3>
                                        <div id="pokemon-container" class="pokemon-image-container">
                                            <!-- Will be populated dynamically -->
                                            <div class="click-indicator">
                                                <i class="fas fa-info"></i>
                                            </div>
                                        </div>
                                        <p id="pokemon-name" class="mt-2 font-bold"></p>
                                    </div>
                                    
                                    <div class="text-center">
                                        <h3 class="font-bold mb-2">TRAINER BADGE</h3>
                                        <div id="badge-container" class="badge-container">
                                            <!-- Will be populated dynamically -->
                                            <div class="click-indicator">
                                                <i class="fas fa-info"></i>
                                            </div>
                                        </div>
                                        <p id="badge-name" class="mt-2 font-bold"></p>
                                    </div>
                                </div>
                                
                                <div id="journey-message" class="journey-message mt-6">
                                    <!-- Will be populated dynamically -->
                                </div>
                            </div>
                            
                            <div class="pagination-controls">
                                <button id="summary-prev" class="search-button px-4 py-1 rounded-md"><i class="fas fa-arrow-left mr-1"></i> PREV</button>
                                <button id="scan-another-btn" class="search-button px-4 py-1 rounded-md"><i class="fas fa-redo mr-1"></i> SCAN ANOTHER</button>
                            </div>
                        </div>
                        
                        <!-- Pokemon Modal -->
                        <div id="pokemon-modal" class="modal-screen">
                            <div class="modal-content">
                                <h3 id="pokemon-modal-title" class="text-xl font-bold mb-2 text-center"></h3>
                                <div class="flex justify-center mb-4">
                                    <div id="pokemon-modal-image" class="w-32 h-32 bg-white p-1"></div>
                                </div>
                                <p id="pokemon-modal-description" class="mb-4"></p>
                                <div class="text-center">
                                    <button id="close-pokemon-modal" class="search-button px-6 py-2 rounded-md"><i class="fas fa-times mr-1"></i> CLOSE</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Badge Modal -->
                        <div id="badge-modal" class="modal-screen">
                            <div class="modal-content">
                                <h3 id="badge-modal-title" class="text-xl font-bold mb-2 text-center"></h3>
                                <div class="flex justify-center mb-4">
                                    <div id="badge-modal-image" class="w-32 h-32"></div>
                                </div>
                                <p id="badge-modal-description" class="mb-4"></p>
                                <div class="text-center">
                                    <button id="close-badge-modal" class="search-button px-6 py-2 rounded-md"><i class="fas fa-times mr-1"></i> CLOSE</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Placement Protocol Modal -->
                        <div id="protocol-modal" class="modal-screen">
                            <div class="modal-content">
                                <h3 class="text-xl font-bold mb-2 text-center">PLACEMENT PROTOCOL</h3>
                                <div class="mb-4">
                                    <p class="mb-2">PLACEMENT PROTOCOL ENGAGED.</p>
                                    <p class="mb-2">TRAINER SCAN COMPLETE. TRACKS WITH APTITUDE BELOW 15 MARKED NOT COMPATIBLE. FINAL ASSIGNMENT CALCULATED BY COMBINING APTITUDE, INTEREST, AND SITUATIONAL SCORES.</p>
                                    <p class="mb-2">IF NO TRACK IS COMPATIBLE, FALLBACK LOGIC SELECTS THE CLOSEST MATCH. PLACEMENT ALSO CONSIDERS RANK AND SLOT AVAILABILITY.</p>
                                    <p class="mb-2">IF YOUR TOP TRACK IS FULL, ASSIGNMENT SHIFTS TO THE NEXT COMPATIBLE TRACK.</p>
                                    <p class="mb-2">PLACEMENT REGISTERED.</p>
                                </div>
                                <div class="text-center">
                                    <button id="close-protocol-modal" class="search-button px-6 py-2 rounded-md"><i class="fas fa-times mr-1"></i> CLOSE</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pokedex divider -->
            <div class="pokedex-divider"></div>
            
            <!-- Bottom part of Pokedex -->
            <div class="pokedex-inner p-2">
                <div class="bottom-controls">
                    <div class="d-pad">
                        <div class="d-pad-button d-pad-up"></div>
                        <div class="d-pad-button d-pad-right"></div>
                        <div class="d-pad-button d-pad-down"></div>
                        <div class="d-pad-button d-pad-left"></div>
                        <div class="d-pad-button d-pad-center"></div>
                    </div>
                    
                    <div class="control-buttons">
                        <div class="flex flex-col items-center">
                            <div class="pokedex-button green w-8 h-8 mb-1"></div>
                            <span class="text-white text-xs">A</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="pokedex-button red w-8 h-8 mb-1"></div>
                            <span class="text-white text-xs">B</span>
                        </div>
                    </div>
                </div>
                
                <div class="mt-1 bg-gray-800 p-1 rounded-lg">
                    <p class="text-white text-center text-xs">PSAU BIOLOGY QUALIFYING EXAM RESULTS @ 2025</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Screen elements
            const searchScreen = document.getElementById('search-screen');
            const analysisScreen = document.getElementById('analysis-screen');
            const noResultScreen = document.getElementById('no-result');
            const aptitudeScreen = document.getElementById('aptitude-screen');
            const majorScreen = document.getElementById('major-screen');
            const summaryScreen = document.getElementById('summary-screen');
            
            // Form elements
            const studentIdInput = document.getElementById('student-id');
            const scanButton = document.getElementById('scan-button');
            
            // Analysis elements
            const currentAnalysisStep = document.getElementById('current-analysis-step');
            const analysisProgress = document.getElementById('analysis-progress');
            const analysisDetails = document.getElementById('analysis-details');
            
            // Buttons
            const viewResultsBtn = document.getElementById('view-results-btn');
            const viewResultsContainer = document.getElementById('view-results-container');
            const scanAgainBtn = document.getElementById('scan-again-btn');
            const scanAnotherBtn = document.getElementById('scan-another-btn');
            const protocolButton = document.getElementById('protocol-button');
            
            // Navigation buttons
            const aptitudeNextBtn = document.getElementById('aptitude-next');
            const majorPrevBtn = document.getElementById('major-prev');
            const majorNextBtn = document.getElementById('major-next');
            const summaryPrevBtn = document.getElementById('summary-prev');
            
            // Modal elements
            const pokemonModal = document.getElementById('pokemon-modal');
            const badgeModal = document.getElementById('badge-modal');
            const protocolModal = document.getElementById('protocol-modal');
            const closePokemonModal = document.getElementById('close-pokemon-modal');
            const closeBadgeModal = document.getElementById('close-badge-modal');
            const closeProtocolModal = document.getElementById('close-protocol-modal');
            
            // Content elements
            const aptitudeTableBody = document.getElementById('aptitude-table-body');
            const majorBadge = document.getElementById('major-badge');
            const majorMessage = document.getElementById('major-message');
            const trainerHeaderAptitude = document.getElementById('trainer-header-aptitude');
            const trainerHeaderMajor = document.getElementById('trainer-header-major');
            const trainerHeaderSummary = document.getElementById('trainer-header-summary');
            const pokemonContainer = document.getElementById('pokemon-container');
            const pokemonName = document.getElementById('pokemon-name');
            const badgeContainer = document.getElementById('badge-container');
            const badgeName = document.getElementById('badge-name');
            const journeyMessage = document.getElementById('journey-message');
            const majorClassificationLabel = document.getElementById('major-classification-label');
            
            // Modal content elements
            const pokemonModalTitle = document.getElementById('pokemon-modal-title');
            const pokemonModalDescription = document.getElementById('pokemon-modal-description');
            const pokemonModalImage = document.getElementById('pokemon-modal-image');
            const badgeModalTitle = document.getElementById('badge-modal-title');
            const badgeModalDescription = document.getElementById('badge-modal-description');
            const badgeModalImage = document.getElementById('badge-modal-image');
            
            // Analysis steps - updated with new messages
            const analysisSteps = [
                "SCANNING TRAINER APTITUDE SIGNATURE",
                "CHECKING TRACK COMPATIBILITY",
                "ANALYZING INTEREST PATTERNS",
                "INTERPRETING SITUATIONAL RESPONSES",
                "CALCULATING WEIGHTED MATCH",
                "SORTING RANKINGS AND SLOT AVAILABILITY",
                "LOCKING FINAL PLACEMENT",
                "TRAINER DATA CLASSIFIED. READY TO VIEW"
            ];
            

    // Student Data
    const students = {
        'C202303037': {
            studentNumber: 'C202303037',
            lastName: 'ALANO',
            firstName: 'FIONA MAE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 13,
            aptitudeBiotech: 15,
            aptitudeMicrobio: 17
        },
        'C202302006': {
            studentNumber: 'C202302006',
            lastName: 'ARGOTE',
            firstName: 'JOBELYN',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 10,
            aptitudeBiotech: 8,
            aptitudeMicrobio: 11
        },
        'C202301984': {
            studentNumber: 'C202301984',
            lastName: 'BORJA',
            firstName: 'ALEXANDRA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 8,
            aptitudeBiotech: 7,
            aptitudeMicrobio: 9
        },
        'C202302011': {
            studentNumber: 'C202302011',
            lastName: 'CABRERA',
            firstName: 'SHELLYNA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 8,
            aptitudeBiotech: 12,
            aptitudeMicrobio: 8
        },
        'C202302760': {
            studentNumber: 'C202302760',
            lastName: 'CALIOLIO',
            firstName: 'GAVIN IRA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 13,
            aptitudeBiotech: 14,
            aptitudeMicrobio: 14
        },
        'C202303013': {
            studentNumber: 'C202303013',
            lastName: 'CANLAS',
            firstName: 'ANDREA LENELLE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: false,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 18,
            aptitudeBiotech: 14,
            aptitudeMicrobio: 18
        },
        'C202302512': {
            studentNumber: 'C202302512',
            lastName: 'CASTRO',
            firstName: 'MARIEL',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 9,
            aptitudeBiotech: 15,
            aptitudeMicrobio: 12
        },
        'C202302097': {
            studentNumber: 'C202302097',
            lastName: 'CIPRE',
            firstName: 'GABRIELA NICOLE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 15,
            aptitudeBiotech: 22,
            aptitudeMicrobio: 21
        },
        'C202302027': {
            studentNumber: 'C202302027',
            lastName: 'DEGALA',
            firstName: 'ALYSSA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: true,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 15,
            aptitudeBiotech: 14,
            aptitudeMicrobio: 12
        },
        'C202301940': {
            studentNumber: 'C202301940',
            lastName: 'DEL MUNDO',
            firstName: 'REYCHELLE VALERIE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 13,
            aptitudeBiotech: 21,
            aptitudeMicrobio: 17
        },
        'C202302028': {
            studentNumber: 'C202302028',
            lastName: 'DELA CRUZ',
            firstName: 'CLARENCE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 22,
            aptitudeBiotech: 24,
            aptitudeMicrobio: 26
        },
        'C202302100': {
            studentNumber: 'C202302100',
            lastName: 'DELA CRUZ',
            firstName: 'JERICO',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 6,
            aptitudeBiotech: 13,
            aptitudeMicrobio: 17
        },
        'C202303054': {
            studentNumber: 'C202303054',
            lastName: 'DEMATA',
            firstName: 'KLAIRRA VYEN',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: false,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 16,
            aptitudeBiotech: 13,
            aptitudeMicrobio: 16
        },
        'C202303058': {
            studentNumber: 'C202303058',
            lastName: 'DEMATA',
            firstName: 'ARIANA ROSE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 11,
            aptitudeBiotech: 18,
            aptitudeMicrobio: 20
        },
        'C202302032': {
            studentNumber: 'C202302032',
            lastName: 'DIAZ',
            firstName: 'RHANIA ALTHEA',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 15,
            aptitudeBiotech: 21,
            aptitudeMicrobio: 19
        },
        'C202302035': {
            studentNumber: 'C202302035',
            lastName: 'DIZON',
            firstName: 'CLARISSA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 9,
            aptitudeBiotech: 12,
            aptitudeMicrobio: 14
        },
        'C202301943': {
            studentNumber: 'C202301943',
            lastName: 'ESPINO',
            firstName: 'ANGELIKA',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 17,
            aptitudeBiotech: 18,
            aptitudeMicrobio: 18
        },
        'C202301946': {
            studentNumber: 'C202301946',
            lastName: 'GONZALES',
            firstName: 'ALYZZA',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 14,
            aptitudeBiotech: 19,
            aptitudeMicrobio: 22
        },
        'C202303059': {
            studentNumber: 'C202303059',
            lastName: 'GUEVARRA',
            firstName: 'EURINE',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 7,
            aptitudeBiotech: 6,
            aptitudeMicrobio: 10
        },
        'C202301951': {
            studentNumber: 'C202301951',
            lastName: 'HALILI',
            firstName: 'ANNA MICHAELA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 14,
            aptitudeMicrobio: 14
        },
        'C202301952': {
            studentNumber: 'C202301952',
            lastName: 'IGNACIO',
            firstName: 'VIVIENNE ERICE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 13,
            aptitudeMicrobio: 14
        },
        'C202302042': {
            studentNumber: 'C202302042',
            lastName: 'LACSON',
            firstName: 'ZEIVION',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 14,
            aptitudeBiotech: 16,
            aptitudeMicrobio: 17
        },
        'C202302532': {
            studentNumber: 'C202302532',
            lastName: 'LAPUZ',
            firstName: 'ANALYN',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 9,
            aptitudeBiotech: 11,
            aptitudeMicrobio: 16
        },
        'C202302043': {
            studentNumber: 'C202302043',
            lastName: 'LAYUG',
            firstName: 'ANNE KATHLEEN',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 12,
            aptitudeMicrobio: 18
        },
        'C202302107': {
            studentNumber: 'C202302107',
            lastName: 'LOPEZ',
            firstName: 'ANGELO GABRIEL',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 10,
            aptitudeBiotech: 17,
            aptitudeMicrobio: 15
        },
        'C202302046': {
            studentNumber: 'C202302046',
            lastName: 'MALONZO',
            firstName: 'CZARINA MAE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 15,
            aptitudeMicrobio: 15
        },
        'C202301960': {
            studentNumber: 'C202301960',
            lastName: 'MANALANG',
            firstName: 'JUSMINE ANDRIE',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 10,
            aptitudeBiotech: 16,
            aptitudeMicrobio: 16
        },
        'C202302511': {
            studentNumber: 'C202302511',
            lastName: 'MANICDAO',
            firstName: 'IRISH YANCY',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 11,
            aptitudeMicrobio: 12
        },
        'C202301966': {
            studentNumber: 'C202301966',
            lastName: 'MANLUTAC',
            firstName: 'ARIANNE JADE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 17,
            aptitudeBiotech: 21,
            aptitudeMicrobio: 22
        },
        'C202302115': {
            studentNumber: 'C202302115',
            lastName: 'MARCELO',
            firstName: 'KHARISH MAAN',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 14,
            aptitudeMicrobio: 12
        },
        'C202302117': {
            studentNumber: 'C202302117',
            lastName: 'MEJIA',
            firstName: 'HEIDE',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 5,
            aptitudeBiotech: 8,
            aptitudeMicrobio: 5
        },
        'C202200221': {
            studentNumber: 'C202200221',
            lastName: 'MICLAT',
            firstName: 'AILEEN',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 22,
            aptitudeBiotech: 18,
            aptitudeMicrobio: 22
        },
        'C202302052': {
            studentNumber: 'C202302052',
            lastName: 'MIRANDA',
            firstName: 'SHANE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 13,
            aptitudeBiotech: 13,
            aptitudeMicrobio: 11
        },
        'C202302053': {
            studentNumber: 'C202302053',
            lastName: 'NALEZ',
            firstName: 'PATRICIA MAE',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 11,
            aptitudeMicrobio: 14
        },
        'C202302054': {
            studentNumber: 'C202302054',
            lastName: 'NUGUID',
            firstName: 'ALCEYHNE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 8,
            aptitudeBiotech: 11,
            aptitudeMicrobio: 6
        },
        'C202100028': {
            studentNumber: 'C202100028',
            lastName: 'PADUA',
            firstName: 'MARJORIE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 7,
            aptitudeBiotech: 17,
            aptitudeMicrobio: 15
        },
        'C202302123': {
            studentNumber: 'C202302123',
            lastName: 'PASAMONTE',
            firstName: 'EUAN EIMER',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 20,
            aptitudeBiotech: 21,
            aptitudeMicrobio: 23
        },
        'C202302127': {
            studentNumber: 'C202302127',
            lastName: 'PUNZALAN',
            firstName: 'MICHELLE',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 6,
            aptitudeMicrobio: 11
        },
        'C202301970': {
            studentNumber: 'C202301970',
            lastName: 'SAMPANG',
            firstName: 'JERVIN',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 19,
            aptitudeBiotech: 18,
            aptitudeMicrobio: 16
        },
        'C202302130': {
            studentNumber: 'C202302130',
            lastName: 'SANTOS',
            firstName: 'PRINCESS RUSSELL',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: true,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 16,
            aptitudeBiotech: 14,
            aptitudeMicrobio: 12
        },
        'C202302771': {
            studentNumber: 'C202302771',
            lastName: 'SUAREZ',
            firstName: 'LIAN JOY',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 5,
            aptitudeBiotech: 13,
            aptitudeMicrobio: 9
        },
        'C202302505': {
            studentNumber: 'C202302505',
            lastName: 'TAN',
            firstName: 'ALLAINE REDGE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 9,
            aptitudeBiotech: 15,
            aptitudeMicrobio: 12
        },
        'C202301972': {
            studentNumber: 'C202301972',
            lastName: 'TRASGA',
            firstName: 'IVY ROSE',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: false,
            eligibilityBiotech: true,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 11,
            aptitudeBiotech: 15,
            aptitudeMicrobio: 11
        },
        'C202302066': {
            studentNumber: 'C202302066',
            lastName: 'VIRAY',
            firstName: 'JOSHUA JARED',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 19,
            aptitudeBiotech: 18,
            aptitudeMicrobio: 10
        },
        'C202302067': {
            studentNumber: 'C202302067',
            lastName: 'VITA',
            firstName: 'JERILYN',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 15,
            aptitudeBiotech: 15,
            aptitudeMicrobio: 17
        },
        'C202302068': {
            studentNumber: 'C202302068',
            lastName: 'YABUT',
            firstName: 'JHON CARLO',
            designatedMajor: 'microbiology',
            majorName: 'MICROBIOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 19,
            aptitudeBiotech: 22,
            aptitudeMicrobio: 21
        },
        'C202302140': {
            studentNumber: 'C202302140',
            lastName: 'ZABLAN',
            firstName: 'DENNISSA ICAH',
            designatedMajor: 'biotechnology',
            majorName: 'BIOTECHNOLOGY',
            eligibilityEnvSci: true,
            eligibilityBiotech: true,
            eligibilityMicrobio: true,
            aptitudeEnvSci: 15,
            aptitudeBiotech: 21,
            aptitudeMicrobio: 18
        },
        'C202301973': {
            studentNumber: 'C202301973',
            lastName: 'ZENAROSA',
            firstName: 'ANDREA',
            designatedMajor: 'environmental',
            majorName: 'ENVIRONMENTAL SCIENCE',
            eligibilityEnvSci: false,
            eligibilityBiotech: false,
            eligibilityMicrobio: false,
            aptitudeEnvSci: 12,
            aptitudeBiotech: 10,
            aptitudeMicrobio: 12
        }
    };         
            // Pokemon data
            const pokemonByMajor = {
                environmental: [
                    { name: 'Bulbasaur', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png', description: 'A RARE POKÉMON THAT CARRIES A SEED ON ITS BACK FROM BIRTH. THE SEED SLOWLY DEVELOPS AS THE POKÉMON GROWS. BULBASAUR CAN THRIVE IN ENVIRONMENTAL SCIENCE RESEARCH SETTINGS.' },
                    { name: 'Chikorita', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/152.png', description: 'SWEET FRAGRANCES WAFT FROM THE LEAF ON ITS HEAD. IT IS DOCILE AND LOVES TO SOAK UP THE SUN\'S RAYS. CHIKORITA EXCELS IN ECOSYSTEM MONITORING TASKS.' },
                    { name: 'Treecko', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/252.png', description: 'THE SOLES OF ITS FEET ARE COVERED BY COUNTLESS TINY SPIKES, ENABLING IT TO WALK ON WALLS AND CEILINGS. TREECKO DEMONSTRATES EXCEPTIONAL ADAPTABILITY IN CHANGING ENVIRONMENTS.' },
                    { name: 'Turtwig', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/387.png', description: 'PHOTOSYNTHESIS OCCURS ACROSS ITS BODY UNDER THE SUN. THE SHELL ON ITS BACK IS ACTUALLY HARDENED SOIL. TURTWIG BUILDS STRONG FOUNDATIONS IN CONSERVATION BIOLOGY.' },
                    { name: 'Snivy', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/495.png', description: 'IT IS VERY INTELLIGENT AND CALM. BEING EXPOSED TO LOTS OF SUNLIGHT MAKES ITS MOVEMENTS SWIFTER. SNIVY\'S ANALYTICAL MIND MAKES IT IDEAL FOR ENVIRONMENTAL RESEARCH.' },
                    { name: 'Chespin', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/650.png', description: 'THE QUILLS ON ITS HEAD ARE USUALLY SOFT. WHEN IT FLEXES THEM, THE POINTS BECOME SO HARD THEY CAN PIERCE ROCK. CHESPIN PROTECTS FRAGILE ECOSYSTEMS WITH DETERMINATION.' },
                    { name: 'Rowlet', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/722.png', description: 'A SILENT FLIER THAT EXCELS IN OBSERVATION AND TIMING. IT CAN DELIVER POWERFUL KICKS WITHOUT BEING NOTICED. ROWLET BALANCES RESEARCH AND ACTION IN FIELD STUDIES.' },
                    { name: 'Grookey', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/810.png', description: 'WHEN IT USES ITS SPECIAL STICK TO STRIKE UP A BEAT, THE SOUND WAVES PRODUCE ENERGY THAT INVIGORATES PLANTS. GROOKEY CREATES HARMONY IN NATURAL ENVIRONMENTS.' },
                    { name: 'Sprigatito', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/906.png', description: 'THE SWEET SCENT ITS BODY GIVES OFF MESMERIZES THOSE AROUND IT. THE SCENT HAS THERAPEUTIC EFFECTS AND CAN SOOTHE FEELINGS OF ANXIETY. SPRIGATITO CONNECTS DEEPLY WITH NATURE.' }
                ],
                biotechnology: [
                    { name: 'Charmander', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/4.png', description: 'FROM THE TIME IT IS BORN, A FLAME BURNS AT THE TIP OF ITS TAIL. ITS LIFE WOULD END IF THE FLAME WERE TO GO OUT. CHARMANDER\'S DETERMINATION FUELS BIOTECHNOLOGY INNOVATION.' },
                    { name: 'Cyndaquil', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/155.png', description: 'IT HAS A TIMID NATURE. IF IT IS STARTLED, THE FLAMES ON ITS BACK BURN MORE VIGOROUSLY. CYNDAQUIL TRANSFORMS CHALLENGES INTO BREAKTHROUGHS IN GENETIC RESEARCH.' },
                    { name: 'Torchic', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/255.png', description: 'A FIRE BURNS INSIDE, SO IT FEELS VERY WARM TO HUG. IT LAUNCHES FIREBALLS OF 1,800 DEGREES F. TORCHIC\'S INTERNAL DRIVE POWERS PRECISION IN LABORATORY SETTINGS.' },
                    { name: 'Chimchar', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/390.png', description: 'ITS FIERY REAR END IS FUELED BY GAS MADE IN ITS BELLY. EVEN RAIN CAN\'T EXTINGUISH THE FIRE. CHIMCHAR SHOWS PERSISTENT ENERGY IN LONG-TERM EXPERIMENTS.' },
                    { name: 'Tepig', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/498.png', description: 'IT CAN DEFTLY DODGE ITS FOE\'S ATTACKS WHILE SHOOTING FIREBALLS FROM ITS NOSE. IT ROASTS BERRIES BEFORE IT EATS THEM. TEPIG APPLIES PRACTICAL SOLUTIONS TO COMPLEX PROBLEMS.' },
                    { name: 'Fennekin', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/653.png', description: 'AS IT WALKS, IT MUNCHES ON A TWIG TO FILL ITSELF WITH ENERGY. IT CAN INTIMIDATE OPPONENTS BY PUFFING HOT AIR. FENNEKIN\'S INNOVATIVE POTENTIAL DRIVES NEW DISCOVERIES.' },
                    { name: 'Litten', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/725.png', description: 'WHILE GROOMING ITSELF, IT BUILDS UP FUR INSIDE ITS STOMACH. IT SETS THE FUR ALIGHT AND SPITS FIERY ATTACKS. LITTEN\'S METHODICAL APPROACH ENSURES EXPERIMENTAL ACCURACY.' },
                    { name: 'Scorbunny', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/813.png', description: 'A VERY ENERGETIC POKÉMON, IT CANNOT SIT STILL. IT RUNS AND JUMPS AROUND, SETTING THINGS ON FIRE. SCORBUNNY\'S BOUNDLESS ENERGY FUELS CREATIVE BIOTECHNOLOGY SOLUTIONS.' },
                    { name: 'Fuecoco', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/909.png', description: 'IT EXHALES HEAT THROUGH ITS HEAD KNOB. WHEN IN A GOOD MOOD, THE HEAT IS POWERFUL ENOUGH TO CAUSE SURROUNDING VEGETATION TO GROW. FUECOCO TRANSFORMS BIOLOGICAL SYSTEMS.' }
                ],
                microbiology: [
                    { name: 'Squirtle', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/7.png', description: 'WHEN IT RETRACTS ITS LONG NECK INTO ITS SHELL, IT SQUIRTS OUT WATER WITH VIGOROUS FORCE. SQUIRTLE\'S DEFENSIVE STRENGTH PROTECTS DELICATE MICROBIOLOGY SAMPLES.' },
                    { name: 'Totodile', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/158.png', description: 'ITS POWERFUL, WELL-DEVELOPED JAWS ARE CAPABLE OF CRUSHING ANYTHING. EVEN ITS TRAINER MUST BE CAREFUL. TOTODILE\'S ANALYTICAL SHARPNESS CUTS THROUGH COMPLEX DATA.' },
                    { name: 'Mudkip', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/258.png', description: 'THE FIN ON MUDKIP\'S HEAD ACTS AS HIGHLY SENSITIVE RADAR. USING THIS FIN TO SENSE MOVEMENTS OF WATER AND AIR, IT CAN DETERMINE WHAT IS TAKING PLACE AROUND IT. MUDKIP NOTICES MICROSCOPIC DETAILS.' },
                    { name: 'Piplup', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/393.png', description: 'IT LIVES ALONG SHORES IN NORTHERN COUNTRIES. A SKILLED SWIMMER, IT DIVES FOR OVER 10 MINUTES TO HUNT. PIPLUP\'S PERSISTENCE LEADS TO BREAKTHROUGHS IN MICROBIAL RESEARCH.' },
                    { name: 'Oshawott', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/501.png', description: 'IT FIGHTS USING THE SCALCHOP ON ITS STOMACH. IN RESPONSE TO AN ATTACK, IT RETALIATES IMMEDIATELY BY SLASHING. OSHAWOTT REACTS QUICKLY TO CHANGES IN MICROBIAL CULTURES.' },
                    { name: 'Froakie', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/656.png', description: 'IT SECRETES FLEXIBLE BUBBLES FROM ITS CHEST AND BACK. THE BUBBLES REDUCE THE DAMAGE IT WOULD OTHERWISE TAKE WHEN ATTACKED. FROAKIE ADAPTS TO CHALLENGING LABORATORY CONDITIONS.' },
                    { name: 'Popplio', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/728.png', description: 'THIS POKÉMON CAN CONTROL WATER BUBBLES. IT PRACTICES DILIGENTLY SO IT CAN LEARN TO MAKE BIG BUBBLES. POPPLIO\'S DEDICATION TO MASTERY ENSURES EXPERIMENTAL PRECISION.' },
                    { name: 'Sobble', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/816.png', description: 'WHEN SCARED, THIS POKÉMON CRIES. ITS TEARS PACK THE CHEMICAL PUNCH OF 100 ONIONS, CAUSING THOSE NEARBY TO INSTANTLY TEAR UP. SOBBLE\'S SENSITIVITY DETECTS SUBTLE CHANGES IN CULTURES.' },
                    { name: 'Quaxly', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/912.png', description: 'ITS STRONG LEGS LET IT SWIM FREELY THROUGH EVEN WILD WAVES. THE GEL SECRETED BY ITS FEATHERS REPELS WATER AND GRIME. QUAXLY\'S METICULOUS NATURE ENSURES STERILE LAB CONDITIONS.' }
                ]
            };
            
            // Badge data with icons
            const badges = {
                environmental: {
                    name: 'Leaf Badge',
                    description: 'THE LEAF BADGE IS AWARDED TO TRAINERS WHO DEMONSTRATE EXCEPTIONAL UNDERSTANDING OF ECOSYSTEMS AND SUSTAINABLE PRACTICES. THIS BADGE SYMBOLIZES A DEEP CONNECTION WITH NATURE AND THE ABILITY TO RESTORE ECOLOGICAL BALANCE.',
                    icon: `<i class="fas fa-leaf badge-icon environmental"></i>`
                },
                biotechnology: {
                    name: 'DNA Badge',
                    description: 'THE DNA BADGE IS GRANTED TO TRAINERS WHO EXCEL IN GENETIC ENGINEERING AND MOLECULAR MANIPULATION. THIS BADGE REPRESENTS THE ABILITY TO HARNESS THE POWER OF LIFE\'S BUILDING BLOCKS FOR SCIENTIFIC ADVANCEMENT.',
                    icon: `<i class="fas fa-dna badge-icon biotechnology"></i>`
                },
                microbiology: {
                    name: 'Microscope Badge',
                    description: 'THE MICROSCOPE BADGE IS BESTOWED UPON TRAINERS WHO MASTER THE STUDY OF MICROSCOPIC ORGANISMS. THIS BADGE HONORS THE ABILITY TO EXPLORE THE INVISIBLE WORLD AND UNDERSTAND THE FUNDAMENTAL BUILDING BLOCKS OF LIFE.',
                    icon: `<i class="fas fa-microscope badge-icon microbiology"></i>`
                }
            };
            
            // Journey messages by major
            const journeyMessages = {
                environmental: "CONGRATULATIONS! YOUR JOURNEY IN ENVIRONMENTAL SCIENCE BEGINS NOW. WITH YOUR LEAF BADGE AND PARTNER POKÉMON, YOU WILL EXPLORE ECOSYSTEMS, DEVELOP SUSTAINABLE SOLUTIONS, AND PROTECT THE NATURAL WORLD.",
                biotechnology: "CONGRATULATIONS! YOUR PATH IN BIOTECHNOLOGY STARTS TODAY. WITH YOUR DNA BADGE AND PARTNER POKÉMON, YOU WILL MANIPULATE GENETIC CODE, DEVELOP NEW BIOLOGICAL TECHNOLOGIES, AND PUSH THE BOUNDARIES OF SCIENCE.",
                microbiology: "CONGRATULATIONS! YOUR ADVENTURE IN MICROBIOLOGY IS UNDERWAY. WITH YOUR MICROSCOPE BADGE AND PARTNER POKÉMON, YOU WILL DISCOVER MICROSCOPIC ORGANISMS, STUDY CELLULAR PROCESSES, AND UNLOCK THE SECRETS OF THE INVISIBLE WORLD."
            };
            
            // Major descriptions for Page 2
            const majorDescriptions = {
                environmental: {
                    standard: "TRAINER ANALYSIS COMPLETE. SCAN INDICATES STRONG COMPATIBILITY WITH ENVIRONMENTAL SCIENCE MAJOR CLASSIFICATION. THIS TRAINER POSSESSES NATURAL AFFINITY FOR UNDERSTANDING ECOSYSTEMS, CONSERVATION PRINCIPLES, AND SUSTAINABLE RESOURCE MANAGEMENT. THE LEAF BADGE REPRESENTS THEIR CONNECTION WITH THE NATURAL WORLD.",
                    fallback: "TRAINER ANALYSIS COMPLETE. WHILE NO MAJOR REACHED OPTIMAL COMPATIBILITY THRESHOLD, SCAN INDICATES HIGHEST POTENTIAL IN ENVIRONMENTAL SCIENCE. THIS TRAINER SHOWS DEVELOPING APTITUDE FOR ECOSYSTEM MANAGEMENT AND CONSERVATION BIOLOGY. THE LEAF BADGE WILL HELP STRENGTHEN THEIR CONNECTION WITH THE NATURAL WORLD."
                },
                biotechnology: {
                    standard: "TRAINER ANALYSIS COMPLETE. SCAN INDICATES STRONG COMPATIBILITY WITH BIOTECHNOLOGY MAJOR CLASSIFICATION. THIS TRAINER POSSESSES ANALYTICAL ABILITIES, INNOVATIVE THINKING, AND PRECISION REQUIRED FOR GENETIC ENGINEERING AND MOLECULAR MANIPULATION. THE DNA BADGE REPRESENTS THEIR POTENTIAL TO TRANSFORM BIOLOGICAL SYSTEMS.",
                    fallback: "TRAINER ANALYSIS COMPLETE. WHILE NO MAJOR REACHED OPTIMAL COMPATIBILITY THRESHOLD, SCAN INDICATES HIGHEST POTENTIAL IN BIOTECHNOLOGY. THIS TRAINER SHOWS DEVELOPING APTITUDE FOR GENETIC ENGINEERING AND MOLECULAR BIOLOGY. THE DNA BADGE WILL HELP STRENGTHEN THEIR UNDERSTANDING OF LIFE'S BUILDING BLOCKS."
                },
                microbiology: {
                    standard: "TRAINER ANALYSIS COMPLETE. SCAN INDICATES STRONG COMPATIBILITY WITH MICROBIOLOGY MAJOR CLASSIFICATION. THIS TRAINER POSSESSES REMARKABLE ATTENTION TO DETAIL, ANALYTICAL PRECISION, AND FASCINATION WITH THE MICROSCOPIC WORLD. THE MICROSCOPE BADGE REPRESENTS THEIR ABILITY TO EXPLORE THE INVISIBLE FOUNDATIONS OF LIFE.",
                    fallback: "TRAINER ANALYSIS COMPLETE. WHILE NO MAJOR REACHED OPTIMAL COMPATIBILITY THRESHOLD, SCAN INDICATES HIGHEST POTENTIAL IN MICROBIOLOGY. THIS TRAINER SHOWS DEVELOPING APTITUDE FOR CELLULAR ANALYSIS AND MICROORGANISM STUDIES. THE MICROSCOPE BADGE WILL HELP STRENGTHEN THEIR ABILITY TO EXPLORE THE INVISIBLE WORLD."
                }
            };
            
            // Check if student is eligible for any major
            function isEligibleForAnyMajor(student) {
                return student.eligibilityEnvSci || student.eligibilityBiotech || student.eligibilityMicrobio;
            }
            
            // Handle scan button click
            scanButton.addEventListener('click', (e) => {
                e.preventDefault();
                const studentId = studentIdInput.value.trim().toUpperCase();
                
                if (!studentId) {
                    alert('PLEASE ENTER TRAINER ID TO SCAN');
                    return;
                }
                
                // Check if student exists in database
                const student = students[studentId];
                
                if (!student) {
                    // Show no result screen immediately
                    searchScreen.classList.add('hidden');
                    noResultScreen.classList.remove('hidden');
                    return;
                }
                
                // If student exists, proceed with analysis
                searchScreen.classList.add('hidden');
                analysisScreen.classList.remove('hidden');
                
                // Start analysis animation
                startAnalysisAnimation();
                
                // Simulate API call with timeout
                setTimeout(() => {
                    // Prepare results screens
                    prepareResultScreens(student);
                    
                    // Show view results button
                    viewResultsContainer.classList.remove('hidden');
                }, 8000); // Total analysis time (8 steps * 1 second)
            });
            
            // Start analysis animation
            function startAnalysisAnimation() {
                let currentStep = 0;
                const totalSteps = analysisSteps.length;
                const stepDuration = 1000; // 1 second per step
                
                const progressInterval = setInterval(() => {
                    if (currentStep >= totalSteps) {
                        clearInterval(progressInterval);
                        return;
                    }
                    
                    // Update step text
                    currentAnalysisStep.textContent = analysisSteps[currentStep];
                    analysisDetails.textContent = `STEP ${currentStep + 1}/${totalSteps}`;
                    
                    // Update progress bar
                    const progressPercentage = ((currentStep + 1) / totalSteps) * 100;
                    analysisProgress.style.width = `${progressPercentage}%`;
                    
                    currentStep++;
                    
                    // Show view results button after all steps
                    if (currentStep === totalSteps) {
                        setTimeout(() => {
                            viewResultsContainer.classList.remove('hidden');
                        }, 500);
                    }
                }, stepDuration);
            }
            
            // Prepare results screens
            function prepareResultScreens(student) {
                // Set trainer headers with improved format - name on left, ID on right
                const trainerHeaderContent = `
                    <div class="flex justify-between items-center">
                        <span class="trainer-name">${student.lastName}, ${student.firstName}</span>
                        <span class="trainer-id">ID: ${student.studentNumber}</span>
                    </div>
                `;
                
                trainerHeaderAptitude.innerHTML = trainerHeaderContent;
                trainerHeaderMajor.innerHTML = trainerHeaderContent;
                trainerHeaderSummary.innerHTML = trainerHeaderContent;
                
                // Prepare aptitude screen - simplified status indicators
                aptitudeTableBody.innerHTML = `
                    <tr>
                        <td><i class="fas fa-leaf text-green-500 mr-2"></i> ENVIRONMENTAL SCIENCE</td>
                        <td class="text-center font-bold">${student.aptitudeEnvSci}</td>
                        <td class="text-center">
                            <span class="eligibility-indicator ${student.eligibilityEnvSci ? 'eligible' : 'not-eligible'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-dna text-blue-500 mr-2"></i> BIOTECHNOLOGY</td>
                        <td class="text-center font-bold">${student.aptitudeBiotech}</td>
                        <td class="text-center">
                            <span class="eligibility-indicator ${student.eligibilityBiotech ? 'eligible' : 'not-eligible'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-microscope text-pink-500 mr-2"></i> MICROBIOLOGY</td>
                        <td class="text-center font-bold">${student.aptitudeMicrobio}</td>
                        <td class="text-center">
                            <span class="eligibility-indicator ${student.eligibilityMicrobio ? 'eligible' : 'not-eligible'}"></span>
                        </td>
                    </tr>
                `;
                
                // Prepare major screen
                const isFallback = !isEligibleForAnyMajor(student);
                
                // Get major icon
                let majorIcon = '';
                switch(student.designatedMajor) {
                    case 'environmental':
                        majorIcon = '<i class="fas fa-leaf text-green-500 text-4xl mb-2"></i>';
                        break;
                    case 'biotechnology':
                        majorIcon = '<i class="fas fa-dna text-blue-500 text-4xl mb-2"></i>';
                        break;
                    case 'microbiology':
                        majorIcon = '<i class="fas fa-microscope text-pink-500 text-4xl mb-2"></i>';
                        break;
                }
                
                majorBadge.innerHTML = `
                    <div class="major-badge-container">
                        ${majorIcon}
                        <h3 class="text-3xl font-bold text-gray-800">${student.majorName}</h3>
                    </div>
                `;
                
                // Set improved major message
                const majorDesc = isFallback ? 
                    majorDescriptions[student.designatedMajor].fallback : 
                    majorDescriptions[student.designatedMajor].standard;
                
                majorMessage.innerHTML = `<p>${majorDesc}</p>`;
                
                // Prepare summary screen
                // Get random Pokemon for the student's major
                const majorPokemon = pokemonByMajor[student.designatedMajor];
                const pokemon = majorPokemon[Math.floor(Math.random() * majorPokemon.length)];
                
                // Get badge for the student's major
                const badge = badges[student.designatedMajor];
                
                // Set major classification label with matching style to Page 2
                majorClassificationLabel.className = `major-classification ${student.designatedMajor}`;
                majorClassificationLabel.innerHTML = `<h3 class="major-name">${student.majorName}</h3>`;
                
                // Set Pokemon
                pokemonContainer.innerHTML = `
                    <img src="${pokemon.image}" alt="${pokemon.name}" class="w-full h-full object-contain p-2">
                    <div class="click-indicator">
                        <i class="fas fa-info"></i>
                    </div>
                `;
                pokemonName.textContent = pokemon.name;
                
                // Set Badge - add back the click indicator
                badgeContainer.className = `badge-container`;
                badgeContainer.innerHTML = `
                    ${badge.icon}
                    <div class="click-indicator">
                        <i class="fas fa-info"></i>
                    </div>
                `;
                badgeName.textContent = badge.name;
                
                // Set journey message
                journeyMessage.className = `journey-message ${student.designatedMajor}`;
                journeyMessage.textContent = journeyMessages[student.designatedMajor];
                
                // Set modal content
                pokemonModalTitle.textContent = pokemon.name;
                pokemonModalDescription.textContent = pokemon.description;
                pokemonModalImage.innerHTML = `<img src="${pokemon.image}" alt="${pokemon.name}" class="w-full h-full object-contain">`;
                
                badgeModalTitle.textContent = badge.name;
                badgeModalDescription.textContent = badge.description;
                badgeModalImage.className = `badge-container`;
                badgeModalImage.innerHTML = badge.icon;
            }
            
            // View results button click
            viewResultsBtn.addEventListener('click', () => {
                analysisScreen.classList.add('hidden');
                aptitudeScreen.classList.remove('hidden');
                
                // Activate LED
                document.querySelector('.pokedex-led').classList.add('active');
            });
            
            // Navigation buttons
            aptitudeNextBtn.addEventListener('click', () => {
                aptitudeScreen.classList.add('hidden');
                majorScreen.classList.remove('hidden');
            });
            
            majorPrevBtn.addEventListener('click', () => {
                majorScreen.classList.add('hidden');
                aptitudeScreen.classList.remove('hidden');
            });
            
            majorNextBtn.addEventListener('click', () => {
                majorScreen.classList.add('hidden');
                summaryScreen.classList.remove('hidden');
            });
            
            summaryPrevBtn.addEventListener('click', () => {
                summaryScreen.classList.add('hidden');
                majorScreen.classList.remove('hidden');
            });
            
            // Scan again buttons
            scanAgainBtn.addEventListener('click', resetPokedex);
            scanAnotherBtn.addEventListener('click', resetPokedex);
            
            // Protocol button
            protocolButton.addEventListener('click', () => {
                protocolModal.style.display = 'flex';
            });
            
            // Make Pokemon container clickable
            pokemonContainer.addEventListener('click', () => {
                pokemonModal.style.display = 'flex';
            });
            
            // Make Badge container clickable again
            badgeContainer.addEventListener('click', () => {
                badgeModal.style.display = 'flex';
            });
            
            // Modal close buttons
            closePokemonModal.addEventListener('click', () => {
                pokemonModal.style.display = 'none';
            });
            
            closeBadgeModal.addEventListener('click', () => {
                badgeModal.style.display = 'none';
            });
            
            closeProtocolModal.addEventListener('click', () => {
                protocolModal.style.display = 'none';
            });
            
            // Reset Pokedex function
            function resetPokedex() {
                // Reset screens
                noResultScreen.classList.add('hidden');
                aptitudeScreen.classList.add('hidden');
                majorScreen.classList.add('hidden');
                summaryScreen.classList.add('hidden');
                analysisScreen.classList.add('hidden');
                searchScreen.classList.remove('hidden');
                
                // Reset form
                studentIdInput.value = '';
                
                // Reset LED
                document.querySelector('.pokedex-led').classList.remove('active');
                
                // Reset progress bar
                analysisProgress.style.width = '0%';
                
                // Hide view results button
                viewResultsContainer.classList.add('hidden');
            }
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === pokemonModal) {
                    pokemonModal.style.display = 'none';
                }
                if (e.target === badgeModal) {
                    badgeModal.style.display = 'none';
                }
                if (e.target === protocolModal) {
                    protocolModal.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>